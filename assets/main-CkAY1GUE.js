import{o as ln,n as bt,r as hn,w as Ae,t as Hn,a as Y,c as Xn,g as Un,b as Gn,d as Wn,s as Jn,e as vt,f as wt,u as Qn,h as Oe,m as Kn,i as Ct,j as W,k as X,F as _t,l as z,p as Xe,q as Vt,v as Zn,N as fe,x as ti,y as ei,z as ni,A as Ht,B as ii,S as Ue,C as ri,D as si,E as oi,G as ee,H as ai,I as ui,J as li,K as hi}from"./note-whi58DMs.js";function ci(e){return Gn()?(Wn(e),!0):!1}const fi=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const di=Object.prototype.toString,gi=e=>di.call(e)==="[object Object]",pi=()=>{};function mi(...e){if(e.length!==1)return Hn(...e);const t=e[0];return typeof t=="function"?hn(Xn(()=>({get:t,set:pi}))):Y(t)}function bi(e,t){function n(...i){return new Promise((r,s)=>{Promise.resolve(e(()=>t.apply(this,i),{fn:t,thisArg:this,args:i})).then(r).catch(s)})}return n}const cn=e=>e();function xi(e=cn,t={}){const{initialState:n="active"}=t,i=mi(n==="active");function r(){i.value=!1}function s(){i.value=!0}const o=(...a)=>{i.value&&e(...a)};return{isActive:hn(i),pause:r,resume:s,eventFilter:o}}function ne(e){return Array.isArray(e)?e:[e]}function yi(e){return Un()}function wi(e,t,n={}){const{eventFilter:i=cn,...r}=n;return Ae(e,bi(i,t),r)}function _i(e,t,n={}){const{eventFilter:i,initialState:r="active",...s}=n,{eventFilter:o,pause:a,resume:u,isActive:l}=xi(i,{initialState:r});return{stop:wi(e,t,{...s,eventFilter:o}),pause:a,resume:u,isActive:l}}function vi(e,t=!0,n){yi()?ln(e,n):t?e():bt(e)}function ki(e,t,n){return Ae(e,t,{...n,immediate:!0})}const de=fi?window:void 0;function Mi(e){var t;const n=wt(e);return(t=n==null?void 0:n.$el)!=null?t:n}function Ge(...e){const t=[],n=()=>{t.forEach(a=>a()),t.length=0},i=(a,u,l,h)=>(a.addEventListener(u,l,h),()=>a.removeEventListener(u,l,h)),r=vt(()=>{const a=ne(wt(e[0])).filter(u=>u!=null);return a.every(u=>typeof u!="string")?a:void 0}),s=ki(()=>{var a,u;return[(u=(a=r.value)==null?void 0:a.map(l=>Mi(l)))!=null?u:[de].filter(l=>l!=null),ne(wt(r.value?e[1]:e[0])),ne(Qn(r.value?e[2]:e[1])),wt(r.value?e[3]:e[2])]},([a,u,l,h])=>{if(n(),!(a!=null&&a.length)||!(u!=null&&u.length)||!(l!=null&&l.length))return;const c=gi(h)?{...h}:h;t.push(...a.flatMap(m=>u.flatMap(x=>l.map(p=>i(m,x,p,c)))))},{flush:"post"}),o=()=>{s(),n()};return ci(n),o}const $t=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Bt="__vueuse_ssr_handlers__",Si=Ti();function Ti(){return Bt in $t||($t[Bt]=$t[Bt]||{}),$t[Bt]}function Ai(e,t){return Si[e]||t}function Oi(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const Ci={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},We="vueuse-storage";function Ei(e,t,n,i={}){var r;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:u=!0,mergeDefaults:l=!1,shallow:h,window:c=de,eventFilter:m,onError:x=C=>{console.error(C)},initOnMounted:p}=i,f=(h?Jn:Y)(typeof t=="function"?t():t),d=vt(()=>wt(e));if(!n)try{n=Ai("getDefaultStorage",()=>{var C;return(C=de)==null?void 0:C.localStorage})()}catch(C){x(C)}if(!n)return f;const w=wt(t),v=Oi(w),O=(r=i.serializer)!=null?r:Ci[v],{pause:I,resume:P}=_i(f,()=>nt(f.value),{flush:s,deep:o,eventFilter:m});Ae(d,()=>ot(),{flush:s}),c&&a&&vi(()=>{n instanceof Storage?Ge(c,"storage",ot,{passive:!0}):Ge(c,We,Vn),p&&ot()}),p||ot();function $(C,R){if(c){const G={key:d.value,oldValue:C,newValue:R,storageArea:n};c.dispatchEvent(n instanceof Storage?new StorageEvent("storage",G):new CustomEvent(We,{detail:G}))}}function nt(C){try{const R=n.getItem(d.value);if(C==null)$(R,null),n.removeItem(d.value);else{const G=O.write(C);R!==G&&(n.setItem(d.value,G),$(R,G))}}catch(R){x(R)}}function B(C){const R=C?C.newValue:n.getItem(d.value);if(R==null)return u&&w!=null&&n.setItem(d.value,O.write(w)),w;if(!C&&l){const G=O.read(R);return typeof l=="function"?l(G,w):v==="object"&&!Array.isArray(G)?{...w,...G}:G}else return typeof R!="string"?R:O.read(R)}function ot(C){if(!(C&&C.storageArea!==n)){if(C&&C.key==null){f.value=w;return}if(!(C&&C.key!==d.value)){I();try{(C==null?void 0:C.newValue)!==O.write(f.value)&&(f.value=B(C))}catch(R){x(R)}finally{C?bt(P):P()}}}}function Vn(C){ot(C.detail)}return f}function Ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ie,Je;function ji(){return Je||(Je=1,ie={jet:[{index:0,rgb:[0,0,131]},{index:.125,rgb:[0,60,170]},{index:.375,rgb:[5,255,255]},{index:.625,rgb:[255,255,0]},{index:.875,rgb:[250,0,0]},{index:1,rgb:[128,0,0]}],hsv:[{index:0,rgb:[255,0,0]},{index:.169,rgb:[253,255,2]},{index:.173,rgb:[247,255,2]},{index:.337,rgb:[0,252,4]},{index:.341,rgb:[0,252,10]},{index:.506,rgb:[1,249,255]},{index:.671,rgb:[2,0,253]},{index:.675,rgb:[8,0,253]},{index:.839,rgb:[255,0,251]},{index:.843,rgb:[255,0,245]},{index:1,rgb:[255,0,6]}],hot:[{index:0,rgb:[0,0,0]},{index:.3,rgb:[230,0,0]},{index:.6,rgb:[255,210,0]},{index:1,rgb:[255,255,255]}],spring:[{index:0,rgb:[255,0,255]},{index:1,rgb:[255,255,0]}],summer:[{index:0,rgb:[0,128,102]},{index:1,rgb:[255,255,102]}],autumn:[{index:0,rgb:[255,0,0]},{index:1,rgb:[255,255,0]}],winter:[{index:0,rgb:[0,0,255]},{index:1,rgb:[0,255,128]}],bone:[{index:0,rgb:[0,0,0]},{index:.376,rgb:[84,84,116]},{index:.753,rgb:[169,200,200]},{index:1,rgb:[255,255,255]}],copper:[{index:0,rgb:[0,0,0]},{index:.804,rgb:[255,160,102]},{index:1,rgb:[255,199,127]}],greys:[{index:0,rgb:[0,0,0]},{index:1,rgb:[255,255,255]}],yignbu:[{index:0,rgb:[8,29,88]},{index:.125,rgb:[37,52,148]},{index:.25,rgb:[34,94,168]},{index:.375,rgb:[29,145,192]},{index:.5,rgb:[65,182,196]},{index:.625,rgb:[127,205,187]},{index:.75,rgb:[199,233,180]},{index:.875,rgb:[237,248,217]},{index:1,rgb:[255,255,217]}],greens:[{index:0,rgb:[0,68,27]},{index:.125,rgb:[0,109,44]},{index:.25,rgb:[35,139,69]},{index:.375,rgb:[65,171,93]},{index:.5,rgb:[116,196,118]},{index:.625,rgb:[161,217,155]},{index:.75,rgb:[199,233,192]},{index:.875,rgb:[229,245,224]},{index:1,rgb:[247,252,245]}],yiorrd:[{index:0,rgb:[128,0,38]},{index:.125,rgb:[189,0,38]},{index:.25,rgb:[227,26,28]},{index:.375,rgb:[252,78,42]},{index:.5,rgb:[253,141,60]},{index:.625,rgb:[254,178,76]},{index:.75,rgb:[254,217,118]},{index:.875,rgb:[255,237,160]},{index:1,rgb:[255,255,204]}],bluered:[{index:0,rgb:[0,0,255]},{index:1,rgb:[255,0,0]}],rdbu:[{index:0,rgb:[5,10,172]},{index:.35,rgb:[106,137,247]},{index:.5,rgb:[190,190,190]},{index:.6,rgb:[220,170,132]},{index:.7,rgb:[230,145,90]},{index:1,rgb:[178,10,28]}],picnic:[{index:0,rgb:[0,0,255]},{index:.1,rgb:[51,153,255]},{index:.2,rgb:[102,204,255]},{index:.3,rgb:[153,204,255]},{index:.4,rgb:[204,204,255]},{index:.5,rgb:[255,255,255]},{index:.6,rgb:[255,204,255]},{index:.7,rgb:[255,153,255]},{index:.8,rgb:[255,102,204]},{index:.9,rgb:[255,102,102]},{index:1,rgb:[255,0,0]}],rainbow:[{index:0,rgb:[150,0,90]},{index:.125,rgb:[0,0,200]},{index:.25,rgb:[0,25,255]},{index:.375,rgb:[0,152,255]},{index:.5,rgb:[44,255,150]},{index:.625,rgb:[151,255,0]},{index:.75,rgb:[255,234,0]},{index:.875,rgb:[255,111,0]},{index:1,rgb:[255,0,0]}],portland:[{index:0,rgb:[12,51,131]},{index:.25,rgb:[10,136,186]},{index:.5,rgb:[242,211,56]},{index:.75,rgb:[242,143,56]},{index:1,rgb:[217,30,30]}],blackbody:[{index:0,rgb:[0,0,0]},{index:.2,rgb:[230,0,0]},{index:.4,rgb:[230,210,0]},{index:.7,rgb:[255,255,255]},{index:1,rgb:[160,200,255]}],earth:[{index:0,rgb:[0,0,130]},{index:.1,rgb:[0,180,180]},{index:.2,rgb:[40,210,40]},{index:.4,rgb:[230,230,50]},{index:.6,rgb:[120,70,20]},{index:1,rgb:[255,255,255]}],electric:[{index:0,rgb:[0,0,0]},{index:.15,rgb:[30,0,100]},{index:.4,rgb:[120,0,100]},{index:.6,rgb:[160,90,0]},{index:.8,rgb:[230,200,0]},{index:1,rgb:[255,250,220]}],alpha:[{index:0,rgb:[255,255,255,0]},{index:1,rgb:[255,255,255,1]}],viridis:[{index:0,rgb:[68,1,84]},{index:.13,rgb:[71,44,122]},{index:.25,rgb:[59,81,139]},{index:.38,rgb:[44,113,142]},{index:.5,rgb:[33,144,141]},{index:.63,rgb:[39,173,129]},{index:.75,rgb:[92,200,99]},{index:.88,rgb:[170,220,50]},{index:1,rgb:[253,231,37]}],inferno:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[31,12,72]},{index:.25,rgb:[85,15,109]},{index:.38,rgb:[136,34,106]},{index:.5,rgb:[186,54,85]},{index:.63,rgb:[227,89,51]},{index:.75,rgb:[249,140,10]},{index:.88,rgb:[249,201,50]},{index:1,rgb:[252,255,164]}],magma:[{index:0,rgb:[0,0,4]},{index:.13,rgb:[28,16,68]},{index:.25,rgb:[79,18,123]},{index:.38,rgb:[129,37,129]},{index:.5,rgb:[181,54,122]},{index:.63,rgb:[229,80,100]},{index:.75,rgb:[251,135,97]},{index:.88,rgb:[254,194,135]},{index:1,rgb:[252,253,191]}],plasma:[{index:0,rgb:[13,8,135]},{index:.13,rgb:[75,3,161]},{index:.25,rgb:[125,3,168]},{index:.38,rgb:[168,34,150]},{index:.5,rgb:[203,70,121]},{index:.63,rgb:[229,107,93]},{index:.75,rgb:[248,148,65]},{index:.88,rgb:[253,195,40]},{index:1,rgb:[240,249,33]}],warm:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[172,0,187]},{index:.25,rgb:[219,0,170]},{index:.38,rgb:[255,0,130]},{index:.5,rgb:[255,63,74]},{index:.63,rgb:[255,123,0]},{index:.75,rgb:[234,176,0]},{index:.88,rgb:[190,228,0]},{index:1,rgb:[147,255,0]}],cool:[{index:0,rgb:[125,0,179]},{index:.13,rgb:[116,0,218]},{index:.25,rgb:[98,74,237]},{index:.38,rgb:[68,146,231]},{index:.5,rgb:[0,204,197]},{index:.63,rgb:[0,247,146]},{index:.75,rgb:[0,255,88]},{index:.88,rgb:[40,255,8]},{index:1,rgb:[147,255,0]}],"rainbow-soft":[{index:0,rgb:[125,0,179]},{index:.1,rgb:[199,0,180]},{index:.2,rgb:[255,0,121]},{index:.3,rgb:[255,108,0]},{index:.4,rgb:[222,194,0]},{index:.5,rgb:[150,255,0]},{index:.6,rgb:[0,255,55]},{index:.7,rgb:[0,246,150]},{index:.8,rgb:[50,167,222]},{index:.9,rgb:[103,51,235]},{index:1,rgb:[124,0,186]}],bathymetry:[{index:0,rgb:[40,26,44]},{index:.13,rgb:[59,49,90]},{index:.25,rgb:[64,76,139]},{index:.38,rgb:[63,110,151]},{index:.5,rgb:[72,142,158]},{index:.63,rgb:[85,174,163]},{index:.75,rgb:[120,206,163]},{index:.88,rgb:[187,230,172]},{index:1,rgb:[253,254,204]}],cdom:[{index:0,rgb:[47,15,62]},{index:.13,rgb:[87,23,86]},{index:.25,rgb:[130,28,99]},{index:.38,rgb:[171,41,96]},{index:.5,rgb:[206,67,86]},{index:.63,rgb:[230,106,84]},{index:.75,rgb:[242,149,103]},{index:.88,rgb:[249,193,135]},{index:1,rgb:[254,237,176]}],chlorophyll:[{index:0,rgb:[18,36,20]},{index:.13,rgb:[25,63,41]},{index:.25,rgb:[24,91,59]},{index:.38,rgb:[13,119,72]},{index:.5,rgb:[18,148,80]},{index:.63,rgb:[80,173,89]},{index:.75,rgb:[132,196,122]},{index:.88,rgb:[175,221,162]},{index:1,rgb:[215,249,208]}],density:[{index:0,rgb:[54,14,36]},{index:.13,rgb:[89,23,80]},{index:.25,rgb:[110,45,132]},{index:.38,rgb:[120,77,178]},{index:.5,rgb:[120,113,213]},{index:.63,rgb:[115,151,228]},{index:.75,rgb:[134,185,227]},{index:.88,rgb:[177,214,227]},{index:1,rgb:[230,241,241]}],"freesurface-blue":[{index:0,rgb:[30,4,110]},{index:.13,rgb:[47,14,176]},{index:.25,rgb:[41,45,236]},{index:.38,rgb:[25,99,212]},{index:.5,rgb:[68,131,200]},{index:.63,rgb:[114,156,197]},{index:.75,rgb:[157,181,203]},{index:.88,rgb:[200,208,216]},{index:1,rgb:[241,237,236]}],"freesurface-red":[{index:0,rgb:[60,9,18]},{index:.13,rgb:[100,17,27]},{index:.25,rgb:[142,20,29]},{index:.38,rgb:[177,43,27]},{index:.5,rgb:[192,87,63]},{index:.63,rgb:[205,125,105]},{index:.75,rgb:[216,162,148]},{index:.88,rgb:[227,199,193]},{index:1,rgb:[241,237,236]}],oxygen:[{index:0,rgb:[64,5,5]},{index:.13,rgb:[106,6,15]},{index:.25,rgb:[144,26,7]},{index:.38,rgb:[168,64,3]},{index:.5,rgb:[188,100,4]},{index:.63,rgb:[206,136,11]},{index:.75,rgb:[220,174,25]},{index:.88,rgb:[231,215,44]},{index:1,rgb:[248,254,105]}],par:[{index:0,rgb:[51,20,24]},{index:.13,rgb:[90,32,35]},{index:.25,rgb:[129,44,34]},{index:.38,rgb:[159,68,25]},{index:.5,rgb:[182,99,19]},{index:.63,rgb:[199,134,22]},{index:.75,rgb:[212,171,35]},{index:.88,rgb:[221,210,54]},{index:1,rgb:[225,253,75]}],phase:[{index:0,rgb:[145,105,18]},{index:.13,rgb:[184,71,38]},{index:.25,rgb:[186,58,115]},{index:.38,rgb:[160,71,185]},{index:.5,rgb:[110,97,218]},{index:.63,rgb:[50,123,164]},{index:.75,rgb:[31,131,110]},{index:.88,rgb:[77,129,34]},{index:1,rgb:[145,105,18]}],salinity:[{index:0,rgb:[42,24,108]},{index:.13,rgb:[33,50,162]},{index:.25,rgb:[15,90,145]},{index:.38,rgb:[40,118,137]},{index:.5,rgb:[59,146,135]},{index:.63,rgb:[79,175,126]},{index:.75,rgb:[120,203,104]},{index:.88,rgb:[193,221,100]},{index:1,rgb:[253,239,154]}],temperature:[{index:0,rgb:[4,35,51]},{index:.13,rgb:[23,51,122]},{index:.25,rgb:[85,59,157]},{index:.38,rgb:[129,79,143]},{index:.5,rgb:[175,95,130]},{index:.63,rgb:[222,112,101]},{index:.75,rgb:[249,146,66]},{index:.88,rgb:[249,196,65]},{index:1,rgb:[232,250,91]}],turbidity:[{index:0,rgb:[34,31,27]},{index:.13,rgb:[65,50,41]},{index:.25,rgb:[98,69,52]},{index:.38,rgb:[131,89,57]},{index:.5,rgb:[161,112,59]},{index:.63,rgb:[185,140,66]},{index:.75,rgb:[202,174,88]},{index:.88,rgb:[216,209,126]},{index:1,rgb:[233,246,171]}],"velocity-blue":[{index:0,rgb:[17,32,64]},{index:.13,rgb:[35,52,116]},{index:.25,rgb:[29,81,156]},{index:.38,rgb:[31,113,162]},{index:.5,rgb:[50,144,169]},{index:.63,rgb:[87,173,176]},{index:.75,rgb:[149,196,189]},{index:.88,rgb:[203,221,211]},{index:1,rgb:[254,251,230]}],"velocity-green":[{index:0,rgb:[23,35,19]},{index:.13,rgb:[24,64,38]},{index:.25,rgb:[11,95,45]},{index:.38,rgb:[39,123,35]},{index:.5,rgb:[95,146,12]},{index:.63,rgb:[152,165,18]},{index:.75,rgb:[201,186,69]},{index:.88,rgb:[233,216,137]},{index:1,rgb:[255,253,205]}],cubehelix:[{index:0,rgb:[0,0,0]},{index:.07,rgb:[22,5,59]},{index:.13,rgb:[60,4,105]},{index:.2,rgb:[109,1,135]},{index:.27,rgb:[161,0,147]},{index:.33,rgb:[210,2,142]},{index:.4,rgb:[251,11,123]},{index:.47,rgb:[255,29,97]},{index:.53,rgb:[255,54,69]},{index:.6,rgb:[255,85,46]},{index:.67,rgb:[255,120,34]},{index:.73,rgb:[255,157,37]},{index:.8,rgb:[241,191,57]},{index:.87,rgb:[224,220,93]},{index:.93,rgb:[218,241,142]},{index:1,rgb:[227,253,198]}]}),ie}var re,Qe;function zi(){if(Qe)return re;Qe=1;function e(t,n,i){return t*(1-i)+n*i}return re=e,re}var se,Ke;function Ii(){if(Ke)return se;Ke=1;var e=ji(),t=zi();se=n;function n(o){var a,u,l,h,c,m,x,p,v,f,d;if(o||(o={}),p=(o.nshades||72)-1,x=o.format||"hex",m=o.colormap,m||(m="jet"),typeof m=="string"){if(m=m.toLowerCase(),!e[m])throw Error(m+" not a supported colorscale");c=e[m]}else if(Array.isArray(m))c=m.slice();else throw Error("unsupported colormap option",m);if(c.length>p+1)throw new Error(m+" map requires nshades to be at least size "+c.length);Array.isArray(o.alpha)?o.alpha.length!==2?f=[1,1]:f=o.alpha.slice():typeof o.alpha=="number"?f=[o.alpha,o.alpha]:f=[1,1],a=c.map(function(P){return Math.round(P.index*p)}),f[0]=Math.min(Math.max(f[0],0),1),f[1]=Math.min(Math.max(f[1],0),1);var w=c.map(function(P,$){var nt=c[$].index,B=c[$].rgb.slice();return B.length===4&&B[3]>=0&&B[3]<=1||(B[3]=f[0]+(f[1]-f[0])*nt),B}),v=[];for(d=0;d<a.length-1;++d){h=a[d+1]-a[d],u=w[d],l=w[d+1];for(var O=0;O<h;O++){var I=O/h;v.push([Math.round(t(u[0],l[0],I)),Math.round(t(u[1],l[1],I)),Math.round(t(u[2],l[2],I)),t(u[3],l[3],I)])}}return v.push(c[c.length-1].rgb.concat(f[1])),x==="hex"?v=v.map(r):x==="rgbaString"?v=v.map(s):x==="float"&&(v=v.map(i)),v}function i(o){return[o[0]/255,o[1]/255,o[2]/255,o[3]]}function r(o){for(var a,u="#",l=0;l<3;++l)a=o[l],a=a.toString(16),u+=("00"+a).substr(a.length);return u}function s(o){return"rgba("+o.join(",")+")"}return se}var Di=Ii();const Ri=Ni(Di),Et={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},fn={};for(const e of Object.keys(Et))fn[Et[e]]=e;const g={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}},tt=(6/29)**3;for(const e of Object.keys(g)){if(!("channels"in g[e]))throw new Error("missing channels property: "+e);if(!("labels"in g[e]))throw new Error("missing channel labels property: "+e);if(g[e].labels.length!==g[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=g[e];delete g[e].channels,delete g[e].labels,Object.defineProperty(g[e],"channels",{value:t}),Object.defineProperty(g[e],"labels",{value:n})}g.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(t,n,i),s=Math.max(t,n,i),o=s-r;let a,u;switch(s){case r:{a=0;break}case t:{a=(n-i)/o;break}case n:{a=2+(i-t)/o;break}case i:{a=4+(t-n)/o;break}}a=Math.min(a*60,360),a<0&&(a+=360);const l=(r+s)/2;return s===r?u=0:l<=.5?u=o/(s+r):u=o/(2-s-r),[a,u*100,l*100]};g.rgb.hsv=function(e){let t,n,i,r,s;const o=e[0]/255,a=e[1]/255,u=e[2]/255,l=Math.max(o,a,u),h=l-Math.min(o,a,u),c=function(m){return(l-m)/6/h+1/2};if(h===0)r=0,s=0;else{switch(s=h/l,t=c(o),n=c(a),i=c(u),l){case o:{r=i-n;break}case a:{r=1/3+t-i;break}case u:{r=2/3+n-t;break}}r<0?r+=1:r>1&&(r-=1)}return[r*360,s*100,l*100]};g.rgb.hwb=function(e){const t=e[0],n=e[1];let i=e[2];const r=g.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,i));return i=1-1/255*Math.max(t,Math.max(n,i)),[r,s*100,i*100]};g.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.min(1-t,1-n,1-i),s=(1-t-r)/(1-r)||0,o=(1-n-r)/(1-r)||0,a=(1-i-r)/(1-r)||0;return[s*100,o*100,a*100,r*100]};function Fi(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}g.rgb.keyword=function(e){const t=fn[e];if(t)return t;let n=Number.POSITIVE_INFINITY,i;for(const r of Object.keys(Et)){const s=Et[r],o=Fi(e,s);o<n&&(n=o,i=r)}return i};g.keyword.rgb=function(e){return Et[e]};g.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,i=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const r=t*.4124564+n*.3575761+i*.1804375,s=t*.2126729+n*.7151522+i*.072175,o=t*.0193339+n*.119192+i*.9503041;return[r*100,s*100,o*100]};g.rgb.lab=function(e){const t=g.rgb.xyz(e);let n=t[0],i=t[1],r=t[2];n/=95.047,i/=100,r/=108.883,n=n>tt?n**(1/3):7.787*n+16/116,i=i>tt?i**(1/3):7.787*i+16/116,r=r>tt?r**(1/3):7.787*r+16/116;const s=116*i-16,o=500*(n-i),a=200*(i-r);return[s,o,a]};g.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;let r,s;if(n===0)return s=i*255,[s,s,s];const o=i<.5?i*(1+n):i+n-i*n,a=2*i-o,u=[0,0,0];for(let l=0;l<3;l++)r=t+1/3*-(l-1),r<0&&r++,r>1&&r--,6*r<1?s=a+(o-a)*6*r:2*r<1?s=o:3*r<2?s=a+(o-a)*(2/3-r)*6:s=a,u[l]=s*255;return u};g.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,i=e[2]/100,r=n;const s=Math.max(i,.01);i*=2,n*=i<=1?i:2-i,r*=s<=1?s:2-s;const o=(i+n)/2,a=i===0?2*r/(s+r):2*n/(i+n);return[t,a*100,o*100]};g.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let i=e[2]/100;const r=Math.floor(t)%6,s=t-Math.floor(t),o=255*i*(1-n),a=255*i*(1-n*s),u=255*i*(1-n*(1-s));switch(i*=255,r){case 0:return[i,u,o];case 1:return[a,i,o];case 2:return[o,i,u];case 3:return[o,a,i];case 4:return[u,o,i];case 5:return[i,o,a]}};g.hsv.hsl=function(e){const t=e[0],n=e[1]/100,i=e[2]/100,r=Math.max(i,.01);let s,o;o=(2-n)*i;const a=(2-n)*r;return s=n*r,s/=a<=1?a:2-a,s=s||0,o/=2,[t,s*100,o*100]};g.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,i=e[2]/100;const r=n+i;let s;r>1&&(n/=r,i/=r);const o=Math.floor(6*t),a=1-i;s=6*t-o,(o&1)!==0&&(s=1-s);const u=n+s*(a-n);let l,h,c;switch(o){default:case 6:case 0:{l=a,h=u,c=n;break}case 1:{l=u,h=a,c=n;break}case 2:{l=n,h=a,c=u;break}case 3:{l=n,h=u,c=a;break}case 4:{l=u,h=n,c=a;break}case 5:{l=a,h=n,c=u;break}}return[l*255,h*255,c*255]};g.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100,r=e[3]/100,s=1-Math.min(1,t*(1-r)+r),o=1-Math.min(1,n*(1-r)+r),a=1-Math.min(1,i*(1-r)+r);return[s*255,o*255,a*255]};g.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,i=e[2]/100;let r,s,o;return r=t*3.2404542+n*-1.5371385+i*-.4985314,s=t*-.969266+n*1.8760108+i*.041556,o=t*.0556434+n*-.2040259+i*1.0572252,r=r>.0031308?1.055*r**(1/2.4)-.055:r*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,o=o>.0031308?1.055*o**(1/2.4)-.055:o*12.92,r=Math.min(Math.max(0,r),1),s=Math.min(Math.max(0,s),1),o=Math.min(Math.max(0,o),1),[r*255,s*255,o*255]};g.xyz.lab=function(e){let t=e[0],n=e[1],i=e[2];t/=95.047,n/=100,i/=108.883,t=t>tt?t**(1/3):7.787*t+16/116,n=n>tt?n**(1/3):7.787*n+16/116,i=i>tt?i**(1/3):7.787*i+16/116;const r=116*n-16,s=500*(t-n),o=200*(n-i);return[r,s,o]};g.lab.xyz=function(e){const t=e[0],n=e[1],i=e[2];let r,s,o;s=(t+16)/116,r=n/500+s,o=s-i/200;const a=s**3,u=r**3,l=o**3;return s=a>tt?a:(s-16/116)/7.787,r=u>tt?u:(r-16/116)/7.787,o=l>tt?l:(o-16/116)/7.787,r*=95.047,s*=100,o*=108.883,[r,s,o]};g.lab.lch=function(e){const t=e[0],n=e[1],i=e[2];let r;r=Math.atan2(i,n)*360/2/Math.PI,r<0&&(r+=360);const o=Math.sqrt(n*n+i*i);return[t,o,r]};g.lch.lab=function(e){const t=e[0],n=e[1],r=e[2]/360*2*Math.PI,s=n*Math.cos(r),o=n*Math.sin(r);return[t,s,o]};g.rgb.ansi16=function(e,t=null){const[n,i,r]=e;let s=t===null?g.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let o=30+(Math.round(r/255)<<2|Math.round(i/255)<<1|Math.round(n/255));return s===2&&(o+=60),o};g.hsv.ansi16=function(e){return g.rgb.ansi16(g.hsv.rgb(e),e[2])};g.rgb.ansi256=function(e){const t=e[0],n=e[1],i=e[2];return t>>4===n>>4&&n>>4===i>>4?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(i/255*5)};g.ansi16.rgb=function(e){e=e[0];let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(Math.trunc(e>50)+1)*.5,i=(t&1)*n*255,r=(t>>1&1)*n*255,s=(t>>2&1)*n*255;return[i,r,s]};g.ansi256.rgb=function(e){if(e=e[0],e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const n=Math.floor(e/36)/5*255,i=Math.floor((t=e%36)/6)/5*255,r=t%6/5*255;return[n,i,r]};g.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".slice(n.length)+n};g.hex.rgb=function(e){const t=e.toString(16).match(/[a-f\d]{6}|[a-f\d]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=[...n].map(a=>a+a).join(""));const i=Number.parseInt(n,16),r=i>>16&255,s=i>>8&255,o=i&255;return[r,s,o]};g.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,i=e[2]/255,r=Math.max(Math.max(t,n),i),s=Math.min(Math.min(t,n),i),o=r-s;let a;const u=o<1?s/(1-o):0;return o<=0?a=0:r===t?a=(n-i)/o%6:r===n?a=2+(i-t)/o:a=4+(t-n)/o,a/=6,a%=1,[a*360,o*100,u*100]};g.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=n<.5?2*t*n:2*t*(1-n);let r=0;return i<1&&(r=(n-.5*i)/(1-i)),[e[0],i*100,r*100]};g.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,i=t*n;let r=0;return i<1&&(r=(n-i)/(1-i)),[e[0],i*100,r*100]};g.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,i=e[2]/100;if(n===0)return[i*255,i*255,i*255];const r=[0,0,0],s=t%1*6,o=s%1,a=1-o;let u=0;switch(Math.floor(s)){case 0:{r[0]=1,r[1]=o,r[2]=0;break}case 1:{r[0]=a,r[1]=1,r[2]=0;break}case 2:{r[0]=0,r[1]=1,r[2]=o;break}case 3:{r[0]=0,r[1]=a,r[2]=1;break}case 4:{r[0]=o,r[1]=0,r[2]=1;break}default:r[0]=1,r[1]=0,r[2]=a}return u=(1-n)*i,[(n*r[0]+u)*255,(n*r[1]+u)*255,(n*r[2]+u)*255]};g.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,i=t+n*(1-t);let r=0;return i>0&&(r=t/i),[e[0],r*100,i*100]};g.hcg.hsl=function(e){const t=e[1]/100,i=e[2]/100*(1-t)+.5*t;let r=0;return i>0&&i<.5?r=t/(2*i):i>=.5&&i<1&&(r=t/(2*(1-i))),[e[0],r*100,i*100]};g.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,i=t+n*(1-t);return[e[0],(i-t)*100,(1-i)*100]};g.hwb.hcg=function(e){const t=e[1]/100,i=1-e[2]/100,r=i-t;let s=0;return r<1&&(s=(i-r)/(1-r)),[e[0],r*100,s*100]};g.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]};g.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]};g.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]};g.gray.hsl=function(e){return[0,0,e[0]]};g.gray.hsv=g.gray.hsl;g.gray.hwb=function(e){return[0,100,e[0]]};g.gray.cmyk=function(e){return[0,0,0,e[0]]};g.gray.lab=function(e){return[e[0],0,0]};g.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,i=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".slice(i.length)+i};g.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};function Pi(){const e={},t=Object.keys(g);for(let{length:n}=t,i=0;i<n;i++)e[t[i]]={distance:-1,parent:null};return e}function qi(e){const t=Pi(),n=[e];for(t[e].distance=0;n.length>0;){const i=n.pop(),r=Object.keys(g[i]);for(let{length:s}=r,o=0;o<s;o++){const a=r[o],u=t[a];u.distance===-1&&(u.distance=t[i].distance+1,u.parent=i,n.unshift(a))}}return t}function Li(e,t){return function(n){return t(e(n))}}function $i(e,t){const n=[t[e].parent,e];let i=g[t[e].parent][e],r=t[e].parent;for(;t[r].parent;)n.unshift(t[r].parent),i=Li(g[t[r].parent][r],i),r=t[r].parent;return i.conversion=n,i}function Bi(e){const t=qi(e),n={},i=Object.keys(t);for(let{length:r}=i,s=0;s<r;s++){const o=i[s];t[o].parent!==null&&(n[o]=$i(o,t))}return n}const lt={},Yi=Object.keys(g);function Vi(e){const t=function(...n){const i=n[0];return i==null?i:(i.length>1&&(n=i),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function Hi(e){const t=function(...n){const i=n[0];if(i==null)return i;i.length>1&&(n=i);const r=e(n);if(typeof r=="object")for(let{length:s}=r,o=0;o<s;o++)r[o]=Math.round(r[o]);return r};return"conversion"in e&&(t.conversion=e.conversion),t}for(const e of Yi){lt[e]={},Object.defineProperty(lt[e],"channels",{value:g[e].channels}),Object.defineProperty(lt[e],"labels",{value:g[e].labels});const t=Bi(e),n=Object.keys(t);for(const i of n){const r=t[i];lt[e][i]=Hi(r),lt[e][i].raw=Vi(r)}}const ge={},dn=[];function _(e,t){if(Array.isArray(e)){for(const n of e)_(n,t);return}if(typeof e=="object"){for(const n in e)_(n,e[n]);return}gn(Object.getOwnPropertyNames(t)),ge[e]=Object.assign(ge[e]||{},t)}function q(e){return ge[e]||{}}function Xi(){return[...new Set(dn)]}function gn(e){dn.push(...e)}function Ce(e,t){let n;const i=e.length,r=[];for(n=0;n<i;n++)r.push(t(e[n]));return r}function Ui(e,t){let n;const i=e.length,r=[];for(n=0;n<i;n++)t(e[n])&&r.push(e[n]);return r}function oe(e){return e%360*Math.PI/180}function Gi(e){return e.replace(/([A-Z])/g,function(t,n){return"-"+n.toLowerCase()})}function pn(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Mt(e,t,n,i){return(t==null||n==null)&&(i=i||e.bbox(),t==null?t=i.width/i.height*n:n==null&&(n=i.height/i.width*t)),{width:t,height:n}}function pe(e,t){const n=e.origin;let i=e.ox!=null?e.ox:e.originX!=null?e.originX:"center",r=e.oy!=null?e.oy:e.originY!=null?e.originY:"center";n!=null&&([i,r]=Array.isArray(n)?n:typeof n=="object"?[n.x,n.y]:[n,n]);const s=typeof i=="string",o=typeof r=="string";if(s||o){const{height:a,width:u,x:l,y:h}=t.bbox();s&&(i=i.includes("left")?l:i.includes("right")?l+u:l+u/2),o&&(r=r.includes("top")?h:r.includes("bottom")?h+a:h+a/2)}return[i,r]}const Wi=new Set(["desc","metadata","title"]),me=e=>Wi.has(e.nodeName),mn=(e,t,n={})=>{const i={...t};for(const r in i)i[r].valueOf()===n[r]&&delete i[r];Object.keys(i).length?e.node.setAttribute("data-svgjs",JSON.stringify(i)):(e.node.removeAttribute("data-svgjs"),e.node.removeAttribute("svgjs:data"))},Ee="http://www.w3.org/2000/svg",Ji="http://www.w3.org/1999/xhtml",ae="http://www.w3.org/2000/xmlns/",Dt="http://www.w3.org/1999/xlink",M={window:typeof window>"u"?null:window,document:typeof document>"u"?null:document};function Qi(){return M.window}class Ne{}const ct={},je="___SYMBOL___ROOT___";function Nt(e,t=Ee){return M.document.createElementNS(t,e)}function F(e,t=!1){if(e instanceof Ne)return e;if(typeof e=="object")return ue(e);if(e==null)return new ct[je];if(typeof e=="string"&&e.charAt(0)!=="<")return ue(M.document.querySelector(e));const n=t?M.document.createElement("div"):Nt("svg");return n.innerHTML=e,e=ue(n.firstChild),n.removeChild(n.firstChild),e}function N(e,t){return t&&(t instanceof M.window.Node||t.ownerDocument&&t instanceof t.ownerDocument.defaultView.Node)?t:Nt(e)}function U(e){if(!e)return null;if(e.instance instanceof Ne)return e.instance;if(e.nodeName==="#document-fragment")return new ct.Fragment(e);let t=pn(e.nodeName||"Dom");return t==="LinearGradient"||t==="RadialGradient"?t="Gradient":ct[t]||(t="Dom"),new ct[t](e)}let ue=U;function S(e,t=e.name,n=!1){return ct[t]=e,n&&(ct[je]=e),gn(Object.getOwnPropertyNames(e.prototype)),e}function Ki(e){return ct[e]}let Zi=1e3;function bn(e){return"Svgjs"+pn(e)+Zi++}function xn(e){for(let t=e.children.length-1;t>=0;t--)xn(e.children[t]);return e.id&&(e.id=bn(e.nodeName)),e}function k(e,t){let n,i;for(e=Array.isArray(e)?e:[e],i=e.length-1;i>=0;i--)for(n in t)e[i].prototype[n]=t[n]}function E(e){return function(...t){const n=t[t.length-1];return n&&n.constructor===Object&&!(n instanceof Array)?e.apply(this,t.slice(0,-1)).attr(n):e.apply(this,t)}}function tr(){return this.parent().children()}function er(){return this.parent().index(this)}function nr(){return this.siblings()[this.position()+1]}function ir(){return this.siblings()[this.position()-1]}function rr(){const e=this.position();return this.parent().add(this.remove(),e+1),this}function sr(){const e=this.position();return this.parent().add(this.remove(),e?e-1:0),this}function or(){return this.parent().add(this.remove()),this}function ar(){return this.parent().add(this.remove(),0),this}function ur(e){e=F(e),e.remove();const t=this.position();return this.parent().add(e,t),this}function lr(e){e=F(e),e.remove();const t=this.position();return this.parent().add(e,t+1),this}function hr(e){return e=F(e),e.before(this),this}function cr(e){return e=F(e),e.after(this),this}_("Dom",{siblings:tr,position:er,next:nr,prev:ir,forward:rr,backward:sr,front:or,back:ar,before:ur,after:lr,insertBefore:hr,insertAfter:cr});const yn=/^([+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?)([a-z%]*)$/i,fr=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,dr=/rgb\((\d+),(\d+),(\d+)\)/,gr=/(#[a-z_][a-z0-9\-_]*)/i,pr=/\)\s*,?\s*/,mr=/\s/g,Ze=/^#[a-f0-9]{3}$|^#[a-f0-9]{6}$/i,tn=/^rgb\(/,en=/^(\s+)?$/,nn=/^[+-]?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,br=/\.(jpg|jpeg|png|gif|svg)(\?[^=]+.*)?/i,et=/[\s,]+/,ze=/[MLHVCSQTAZ]/i;function xr(){const e=this.attr("class");return e==null?[]:e.trim().split(et)}function yr(e){return this.classes().indexOf(e)!==-1}function wr(e){if(!this.hasClass(e)){const t=this.classes();t.push(e),this.attr("class",t.join(" "))}return this}function _r(e){return this.hasClass(e)&&this.attr("class",this.classes().filter(function(t){return t!==e}).join(" ")),this}function vr(e){return this.hasClass(e)?this.removeClass(e):this.addClass(e)}_("Dom",{classes:xr,hasClass:yr,addClass:wr,removeClass:_r,toggleClass:vr});function kr(e,t){const n={};if(arguments.length===0)return this.node.style.cssText.split(/\s*;\s*/).filter(function(i){return!!i.length}).forEach(function(i){const r=i.split(/\s*:\s*/);n[r[0]]=r[1]}),n;if(arguments.length<2){if(Array.isArray(e)){for(const i of e){const r=i;n[i]=this.node.style.getPropertyValue(r)}return n}if(typeof e=="string")return this.node.style.getPropertyValue(e);if(typeof e=="object")for(const i in e)this.node.style.setProperty(i,e[i]==null||en.test(e[i])?"":e[i])}return arguments.length===2&&this.node.style.setProperty(e,t==null||en.test(t)?"":t),this}function Mr(){return this.css("display","")}function Sr(){return this.css("display","none")}function Tr(){return this.css("display")!=="none"}_("Dom",{css:kr,show:Mr,hide:Sr,visible:Tr});function Ar(e,t,n){if(e==null)return this.data(Ce(Ui(this.node.attributes,i=>i.nodeName.indexOf("data-")===0),i=>i.nodeName.slice(5)));if(e instanceof Array){const i={};for(const r of e)i[r]=this.data(r);return i}else if(typeof e=="object")for(t in e)this.data(t,e[t]);else if(arguments.length<2)try{return JSON.parse(this.attr("data-"+e))}catch{return this.attr("data-"+e)}else this.attr("data-"+e,t===null?null:n===!0||typeof t=="string"||typeof t=="number"?t:JSON.stringify(t));return this}_("Dom",{data:Ar});function Or(e,t){if(typeof arguments[0]=="object")for(const n in e)this.remember(n,e[n]);else{if(arguments.length===1)return this.memory()[e];this.memory()[e]=t}return this}function Cr(){if(arguments.length===0)this._memory={};else for(let e=arguments.length-1;e>=0;e--)delete this.memory()[arguments[e]];return this}function Er(){return this._memory=this._memory||{}}_("Dom",{remember:Or,forget:Cr,memory:Er});function Nr(e){return e.length===4?["#",e.substring(1,2),e.substring(1,2),e.substring(2,3),e.substring(2,3),e.substring(3,4),e.substring(3,4)].join(""):e}function jr(e){const t=Math.round(e),i=Math.max(0,Math.min(255,t)).toString(16);return i.length===1?"0"+i:i}function gt(e,t){for(let n=t.length;n--;)if(e[t[n]]==null)return!1;return!0}function zr(e,t){const n=gt(e,"rgb")?{_a:e.r,_b:e.g,_c:e.b,_d:0,space:"rgb"}:gt(e,"xyz")?{_a:e.x,_b:e.y,_c:e.z,_d:0,space:"xyz"}:gt(e,"hsl")?{_a:e.h,_b:e.s,_c:e.l,_d:0,space:"hsl"}:gt(e,"lab")?{_a:e.l,_b:e.a,_c:e.b,_d:0,space:"lab"}:gt(e,"lch")?{_a:e.l,_b:e.c,_c:e.h,_d:0,space:"lch"}:gt(e,"cmyk")?{_a:e.c,_b:e.m,_c:e.y,_d:e.k,space:"cmyk"}:{_a:0,_b:0,_c:0,space:"rgb"};return n.space=t||n.space,n}function Ir(e){return e==="lab"||e==="xyz"||e==="lch"}function le(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}class A{constructor(...t){this.init(...t)}static isColor(t){return t&&(t instanceof A||this.isRgb(t)||this.test(t))}static isRgb(t){return t&&typeof t.r=="number"&&typeof t.g=="number"&&typeof t.b=="number"}static random(t="vibrant",n){const{random:i,round:r,sin:s,PI:o}=Math;if(t==="vibrant"){const a=24*i()+57,u=38*i()+45,l=360*i();return new A(a,u,l,"lch")}else if(t==="sine"){n=n??i();const a=r(80*s(2*o*n/.5+.01)+150),u=r(50*s(2*o*n/.5+4.6)+200),l=r(100*s(2*o*n/.5+2.3)+150);return new A(a,u,l)}else if(t==="pastel"){const a=8*i()+86,u=17*i()+9,l=360*i();return new A(a,u,l,"lch")}else if(t==="dark"){const a=10+10*i(),u=50*i()+86,l=360*i();return new A(a,u,l,"lch")}else if(t==="rgb"){const a=255*i(),u=255*i(),l=255*i();return new A(a,u,l)}else if(t==="lab"){const a=100*i(),u=256*i()-128,l=256*i()-128;return new A(a,u,l,"lab")}else if(t==="grey"){const a=255*i();return new A(a,a,a)}else throw new Error("Unsupported random color mode")}static test(t){return typeof t=="string"&&(Ze.test(t)||tn.test(t))}cmyk(){const{_a:t,_b:n,_c:i}=this.rgb(),[r,s,o]=[t,n,i].map(m=>m/255),a=Math.min(1-r,1-s,1-o);if(a===1)return new A(0,0,0,1,"cmyk");const u=(1-r-a)/(1-a),l=(1-s-a)/(1-a),h=(1-o-a)/(1-a);return new A(u,l,h,a,"cmyk")}hsl(){const{_a:t,_b:n,_c:i}=this.rgb(),[r,s,o]=[t,n,i].map(f=>f/255),a=Math.max(r,s,o),u=Math.min(r,s,o),l=(a+u)/2,h=a===u,c=a-u,m=h?0:l>.5?c/(2-a-u):c/(a+u),x=h?0:a===r?((s-o)/c+(s<o?6:0))/6:a===s?((o-r)/c+2)/6:a===o?((r-s)/c+4)/6:0;return new A(360*x,100*m,100*l,"hsl")}init(t=0,n=0,i=0,r=0,s="rgb"){if(t=t||0,this.space)for(const c in this.space)delete this[this.space[c]];if(typeof t=="number")s=typeof r=="string"?r:s,r=typeof r=="string"?0:r,Object.assign(this,{_a:t,_b:n,_c:i,_d:r,space:s});else if(t instanceof Array)this.space=n||(typeof t[3]=="string"?t[3]:t[4])||"rgb",Object.assign(this,{_a:t[0],_b:t[1],_c:t[2],_d:t[3]||0});else if(t instanceof Object){const c=zr(t,n);Object.assign(this,c)}else if(typeof t=="string")if(tn.test(t)){const c=t.replace(mr,""),[m,x,p]=dr.exec(c).slice(1,4).map(f=>parseInt(f));Object.assign(this,{_a:m,_b:x,_c:p,_d:0,space:"rgb"})}else if(Ze.test(t)){const c=f=>parseInt(f,16),[,m,x,p]=fr.exec(Nr(t)).map(c);Object.assign(this,{_a:m,_b:x,_c:p,_d:0,space:"rgb"})}else throw Error("Unsupported string format, can't construct Color");const{_a:o,_b:a,_c:u,_d:l}=this,h=this.space==="rgb"?{r:o,g:a,b:u}:this.space==="xyz"?{x:o,y:a,z:u}:this.space==="hsl"?{h:o,s:a,l:u}:this.space==="lab"?{l:o,a,b:u}:this.space==="lch"?{l:o,c:a,h:u}:this.space==="cmyk"?{c:o,m:a,y:u,k:l}:{};Object.assign(this,h)}lab(){const{x:t,y:n,z:i}=this.xyz(),r=116*n-16,s=500*(t-n),o=200*(n-i);return new A(r,s,o,"lab")}lch(){const{l:t,a:n,b:i}=this.lab(),r=Math.sqrt(n**2+i**2);let s=180*Math.atan2(i,n)/Math.PI;return s<0&&(s*=-1,s=360-s),new A(t,r,s,"lch")}rgb(){if(this.space==="rgb")return this;if(Ir(this.space)){let{x:t,y:n,z:i}=this;if(this.space==="lab"||this.space==="lch"){let{l:x,a:p,b:f}=this;if(this.space==="lch"){const{c:$,h:nt}=this,B=Math.PI/180;p=$*Math.cos(B*nt),f=$*Math.sin(B*nt)}const d=(x+16)/116,w=p/500+d,v=d-f/200,O=16/116,I=.008856,P=7.787;t=.95047*(w**3>I?w**3:(w-O)/P),n=1*(d**3>I?d**3:(d-O)/P),i=1.08883*(v**3>I?v**3:(v-O)/P)}const r=t*3.2406+n*-1.5372+i*-.4986,s=t*-.9689+n*1.8758+i*.0415,o=t*.0557+n*-.204+i*1.057,a=Math.pow,u=.0031308,l=r>u?1.055*a(r,1/2.4)-.055:12.92*r,h=s>u?1.055*a(s,1/2.4)-.055:12.92*s,c=o>u?1.055*a(o,1/2.4)-.055:12.92*o;return new A(255*l,255*h,255*c)}else if(this.space==="hsl"){let{h:t,s:n,l:i}=this;if(t/=360,n/=100,i/=100,n===0)return i*=255,new A(i,i,i);const r=i<.5?i*(1+n):i+n-i*n,s=2*i-r,o=255*le(s,r,t+1/3),a=255*le(s,r,t),u=255*le(s,r,t-1/3);return new A(o,a,u)}else if(this.space==="cmyk"){const{c:t,m:n,y:i,k:r}=this,s=255*(1-Math.min(1,t*(1-r)+r)),o=255*(1-Math.min(1,n*(1-r)+r)),a=255*(1-Math.min(1,i*(1-r)+r));return new A(s,o,a)}else return this}toArray(){const{_a:t,_b:n,_c:i,_d:r,space:s}=this;return[t,n,i,r,s]}toHex(){const[t,n,i]=this._clamped().map(jr);return`#${t}${n}${i}`}toRgb(){const[t,n,i]=this._clamped();return`rgb(${t},${n},${i})`}toString(){return this.toHex()}xyz(){const{_a:t,_b:n,_c:i}=this.rgb(),[r,s,o]=[t,n,i].map(w=>w/255),a=r>.04045?Math.pow((r+.055)/1.055,2.4):r/12.92,u=s>.04045?Math.pow((s+.055)/1.055,2.4):s/12.92,l=o>.04045?Math.pow((o+.055)/1.055,2.4):o/12.92,h=(a*.4124+u*.3576+l*.1805)/.95047,c=(a*.2126+u*.7152+l*.0722)/1,m=(a*.0193+u*.1192+l*.9505)/1.08883,x=h>.008856?Math.pow(h,1/3):7.787*h+16/116,p=c>.008856?Math.pow(c,1/3):7.787*c+16/116,f=m>.008856?Math.pow(m,1/3):7.787*m+16/116;return new A(x,p,f,"xyz")}_clamped(){const{_a:t,_b:n,_c:i}=this.rgb(),{max:r,min:s,round:o}=Math,a=u=>r(0,s(o(u),255));return[t,n,i].map(a)}}class j{constructor(...t){this.init(...t)}clone(){return new j(this)}init(t,n){const i={x:0,y:0},r=Array.isArray(t)?{x:t[0],y:t[1]}:typeof t=="object"?{x:t.x,y:t.y}:{x:t,y:n};return this.x=r.x==null?i.x:r.x,this.y=r.y==null?i.y:r.y,this}toArray(){return[this.x,this.y]}transform(t){return this.clone().transformO(t)}transformO(t){b.isMatrixLike(t)||(t=new b(t));const{x:n,y:i}=this;return this.x=t.a*n+t.c*i+t.e,this.y=t.b*n+t.d*i+t.f,this}}function Dr(e,t){return new j(e,t).transformO(this.screenCTM().inverseO())}function pt(e,t,n){return Math.abs(t-e)<1e-6}class b{constructor(...t){this.init(...t)}static formatTransforms(t){const n=t.flip==="both"||t.flip===!0,i=t.flip&&(n||t.flip==="x")?-1:1,r=t.flip&&(n||t.flip==="y")?-1:1,s=t.skew&&t.skew.length?t.skew[0]:isFinite(t.skew)?t.skew:isFinite(t.skewX)?t.skewX:0,o=t.skew&&t.skew.length?t.skew[1]:isFinite(t.skew)?t.skew:isFinite(t.skewY)?t.skewY:0,a=t.scale&&t.scale.length?t.scale[0]*i:isFinite(t.scale)?t.scale*i:isFinite(t.scaleX)?t.scaleX*i:i,u=t.scale&&t.scale.length?t.scale[1]*r:isFinite(t.scale)?t.scale*r:isFinite(t.scaleY)?t.scaleY*r:r,l=t.shear||0,h=t.rotate||t.theta||0,c=new j(t.origin||t.around||t.ox||t.originX,t.oy||t.originY),m=c.x,x=c.y,p=new j(t.position||t.px||t.positionX||NaN,t.py||t.positionY||NaN),f=p.x,d=p.y,w=new j(t.translate||t.tx||t.translateX,t.ty||t.translateY),v=w.x,O=w.y,I=new j(t.relative||t.rx||t.relativeX,t.ry||t.relativeY),P=I.x,$=I.y;return{scaleX:a,scaleY:u,skewX:s,skewY:o,shear:l,theta:h,rx:P,ry:$,tx:v,ty:O,ox:m,oy:x,px:f,py:d}}static fromArray(t){return{a:t[0],b:t[1],c:t[2],d:t[3],e:t[4],f:t[5]}}static isMatrixLike(t){return t.a!=null||t.b!=null||t.c!=null||t.d!=null||t.e!=null||t.f!=null}static matrixMultiply(t,n,i){const r=t.a*n.a+t.c*n.b,s=t.b*n.a+t.d*n.b,o=t.a*n.c+t.c*n.d,a=t.b*n.c+t.d*n.d,u=t.e+t.a*n.e+t.c*n.f,l=t.f+t.b*n.e+t.d*n.f;return i.a=r,i.b=s,i.c=o,i.d=a,i.e=u,i.f=l,i}around(t,n,i){return this.clone().aroundO(t,n,i)}aroundO(t,n,i){const r=t||0,s=n||0;return this.translateO(-r,-s).lmultiplyO(i).translateO(r,s)}clone(){return new b(this)}decompose(t=0,n=0){const i=this.a,r=this.b,s=this.c,o=this.d,a=this.e,u=this.f,l=i*o-r*s,h=l>0?1:-1,c=h*Math.sqrt(i*i+r*r),m=Math.atan2(h*r,h*i),x=180/Math.PI*m,p=Math.cos(m),f=Math.sin(m),d=(i*s+r*o)/l,w=s*c/(d*i-r)||o*c/(d*r+i),v=a-t+t*p*c+n*(d*p*c-f*w),O=u-n+t*f*c+n*(d*f*c+p*w);return{scaleX:c,scaleY:w,shear:d,rotate:x,translateX:v,translateY:O,originX:t,originY:n,a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}equals(t){if(t===this)return!0;const n=new b(t);return pt(this.a,n.a)&&pt(this.b,n.b)&&pt(this.c,n.c)&&pt(this.d,n.d)&&pt(this.e,n.e)&&pt(this.f,n.f)}flip(t,n){return this.clone().flipO(t,n)}flipO(t,n){return t==="x"?this.scaleO(-1,1,n,0):t==="y"?this.scaleO(1,-1,0,n):this.scaleO(-1,-1,t,n||t)}init(t){const n=b.fromArray([1,0,0,1,0,0]);return t=t instanceof Q?t.matrixify():typeof t=="string"?b.fromArray(t.split(et).map(parseFloat)):Array.isArray(t)?b.fromArray(t):typeof t=="object"&&b.isMatrixLike(t)?t:typeof t=="object"?new b().transform(t):arguments.length===6?b.fromArray([].slice.call(arguments)):n,this.a=t.a!=null?t.a:n.a,this.b=t.b!=null?t.b:n.b,this.c=t.c!=null?t.c:n.c,this.d=t.d!=null?t.d:n.d,this.e=t.e!=null?t.e:n.e,this.f=t.f!=null?t.f:n.f,this}inverse(){return this.clone().inverseO()}inverseO(){const t=this.a,n=this.b,i=this.c,r=this.d,s=this.e,o=this.f,a=t*r-n*i;if(!a)throw new Error("Cannot invert "+this);const u=r/a,l=-n/a,h=-i/a,c=t/a,m=-(u*s+h*o),x=-(l*s+c*o);return this.a=u,this.b=l,this.c=h,this.d=c,this.e=m,this.f=x,this}lmultiply(t){return this.clone().lmultiplyO(t)}lmultiplyO(t){const n=this,i=t instanceof b?t:new b(t);return b.matrixMultiply(i,n,this)}multiply(t){return this.clone().multiplyO(t)}multiplyO(t){const n=this,i=t instanceof b?t:new b(t);return b.matrixMultiply(n,i,this)}rotate(t,n,i){return this.clone().rotateO(t,n,i)}rotateO(t,n=0,i=0){t=oe(t);const r=Math.cos(t),s=Math.sin(t),{a:o,b:a,c:u,d:l,e:h,f:c}=this;return this.a=o*r-a*s,this.b=a*r+o*s,this.c=u*r-l*s,this.d=l*r+u*s,this.e=h*r-c*s+i*s-n*r+n,this.f=c*r+h*s-n*s-i*r+i,this}scale(){return this.clone().scaleO(...arguments)}scaleO(t,n=t,i=0,r=0){arguments.length===3&&(r=i,i=n,n=t);const{a:s,b:o,c:a,d:u,e:l,f:h}=this;return this.a=s*t,this.b=o*n,this.c=a*t,this.d=u*n,this.e=l*t-i*t+i,this.f=h*n-r*n+r,this}shear(t,n,i){return this.clone().shearO(t,n,i)}shearO(t,n=0,i=0){const{a:r,b:s,c:o,d:a,e:u,f:l}=this;return this.a=r+s*t,this.c=o+a*t,this.e=u+l*t-i*t,this}skew(){return this.clone().skewO(...arguments)}skewO(t,n=t,i=0,r=0){arguments.length===3&&(r=i,i=n,n=t),t=oe(t),n=oe(n);const s=Math.tan(t),o=Math.tan(n),{a,b:u,c:l,d:h,e:c,f:m}=this;return this.a=a+u*s,this.b=u+a*o,this.c=l+h*s,this.d=h+l*o,this.e=c+m*s-r*s,this.f=m+c*o-i*o,this}skewX(t,n,i){return this.skew(t,0,n,i)}skewY(t,n,i){return this.skew(0,t,n,i)}toArray(){return[this.a,this.b,this.c,this.d,this.e,this.f]}toString(){return"matrix("+this.a+","+this.b+","+this.c+","+this.d+","+this.e+","+this.f+")"}transform(t){if(b.isMatrixLike(t))return new b(t).multiplyO(this);const n=b.formatTransforms(t),i=this,{x:r,y:s}=new j(n.ox,n.oy).transform(i),o=new b().translateO(n.rx,n.ry).lmultiplyO(i).translateO(-r,-s).scaleO(n.scaleX,n.scaleY).skewO(n.skewX,n.skewY).shearO(n.shear).rotateO(n.theta).translateO(r,s);if(isFinite(n.px)||isFinite(n.py)){const a=new j(r,s).transform(o),u=isFinite(n.px)?n.px-a.x:0,l=isFinite(n.py)?n.py-a.y:0;o.translateO(u,l)}return o.translateO(n.tx,n.ty),o}translate(t,n){return this.clone().translateO(t,n)}translateO(t,n){return this.e+=t||0,this.f+=n||0,this}valueOf(){return{a:this.a,b:this.b,c:this.c,d:this.d,e:this.e,f:this.f}}}function Rr(){return new b(this.node.getCTM())}function Fr(){try{if(typeof this.isRoot=="function"&&!this.isRoot()){const e=this.rect(1,1),t=e.node.getScreenCTM();return e.remove(),new b(t)}return new b(this.node.getScreenCTM())}catch{return console.warn(`Cannot get CTM from SVG node ${this.node.nodeName}. Is the element rendered?`),new b}}S(b,"Matrix");function it(){if(!it.nodes){const e=F().size(2,0);e.node.style.cssText=["opacity: 0","position: absolute","left: -100%","top: -100%","overflow: hidden"].join(";"),e.attr("focusable","false"),e.attr("aria-hidden","true");const t=e.path().node;it.nodes={svg:e,path:t}}if(!it.nodes.svg.node.parentNode){const e=M.document.body||M.document.documentElement;it.nodes.svg.addTo(e)}return it.nodes}function wn(e){return!e.width&&!e.height&&!e.x&&!e.y}function Pr(e){return e===M.document||(M.document.documentElement.contains||function(t){for(;t.parentNode;)t=t.parentNode;return t===M.document}).call(M.document.documentElement,e)}class D{constructor(...t){this.init(...t)}addOffset(){return this.x+=M.window.pageXOffset,this.y+=M.window.pageYOffset,new D(this)}init(t){const n=[0,0,0,0];return t=typeof t=="string"?t.split(et).map(parseFloat):Array.isArray(t)?t:typeof t=="object"?[t.left!=null?t.left:t.x,t.top!=null?t.top:t.y,t.width,t.height]:arguments.length===4?[].slice.call(arguments):n,this.x=t[0]||0,this.y=t[1]||0,this.width=this.w=t[2]||0,this.height=this.h=t[3]||0,this.x2=this.x+this.w,this.y2=this.y+this.h,this.cx=this.x+this.w/2,this.cy=this.y+this.h/2,this}isNulled(){return wn(this)}merge(t){const n=Math.min(this.x,t.x),i=Math.min(this.y,t.y),r=Math.max(this.x+this.width,t.x+t.width)-n,s=Math.max(this.y+this.height,t.y+t.height)-i;return new D(n,i,r,s)}toArray(){return[this.x,this.y,this.width,this.height]}toString(){return this.x+" "+this.y+" "+this.width+" "+this.height}transform(t){t instanceof b||(t=new b(t));let n=1/0,i=-1/0,r=1/0,s=-1/0;return[new j(this.x,this.y),new j(this.x2,this.y),new j(this.x,this.y2),new j(this.x2,this.y2)].forEach(function(a){a=a.transform(t),n=Math.min(n,a.x),i=Math.max(i,a.x),r=Math.min(r,a.y),s=Math.max(s,a.y)}),new D(n,r,i-n,s-r)}}function _n(e,t,n){let i;try{if(i=t(e.node),wn(i)&&!Pr(e.node))throw new Error("Element not in the dom")}catch{i=n(e)}return i}function qr(){const n=_n(this,r=>r.getBBox(),r=>{try{const s=r.clone().addTo(it().svg).show(),o=s.node.getBBox();return s.remove(),o}catch(s){throw new Error(`Getting bbox of element "${r.node.nodeName}" is not possible: ${s.toString()}`)}});return new D(n)}function Lr(e){const i=_n(this,s=>s.getBoundingClientRect(),s=>{throw new Error(`Getting rbox of element "${s.node.nodeName}" is not possible`)}),r=new D(i);return e?r.transform(e.screenCTM().inverseO()):r.addOffset()}function $r(e,t){const n=this.bbox();return e>n.x&&t>n.y&&e<n.x+n.width&&t<n.y+n.height}_({viewbox:{viewbox(e,t,n,i){return e==null?new D(this.attr("viewBox")):this.attr("viewBox",new D(e,t,n,i))},zoom(e,t){let{width:n,height:i}=this.attr(["width","height"]);if((!n&&!i||typeof n=="string"||typeof i=="string")&&(n=this.node.clientWidth,i=this.node.clientHeight),!n||!i)throw new Error("Impossible to get absolute width and height. Please provide an absolute width and height attribute on the zooming element");const r=this.viewbox(),s=n/r.width,o=i/r.height,a=Math.min(s,o);if(e==null)return a;let u=a/e;u===1/0&&(u=Number.MAX_SAFE_INTEGER/100),t=t||new j(n/2/s+r.x,i/2/o+r.y);const l=new D(r).transform(new b({scale:u,origin:t}));return this.viewbox(l)}}});S(D,"Box");class ft extends Array{constructor(t=[],...n){if(super(t,...n),typeof t=="number")return this;this.length=0,this.push(...t)}}k([ft],{each(e,...t){return typeof e=="function"?this.map((n,i,r)=>e.call(n,n,i,r)):this.map(n=>n[e](...t))},toArray(){return Array.prototype.concat.apply([],this)}});const Br=["toArray","constructor","each"];ft.extend=function(e){e=e.reduce((t,n)=>(Br.includes(n)||n[0]==="_"||(n in Array.prototype&&(t["$"+n]=Array.prototype[n]),t[n]=function(...i){return this.each(n,...i)}),t),{}),k([ft],e)};function St(e,t){return new ft(Ce((t||M.document).querySelectorAll(e),function(n){return U(n)}))}function Yr(e){return St(e,this.node)}function Vr(e){return U(this.node.querySelector(e))}let Hr=0;const vn={};function kn(e){let t=e.getEventHolder();return t===M.window&&(t=vn),t.events||(t.events={}),t.events}function Ie(e){return e.getEventTarget()}function Xr(e){let t=e.getEventHolder();t===M.window&&(t=vn),t.events&&(t.events={})}function be(e,t,n,i,r){const s=n.bind(i||e),o=F(e),a=kn(o),u=Ie(o);t=Array.isArray(t)?t:t.split(et),n._svgjsListenerId||(n._svgjsListenerId=++Hr),t.forEach(function(l){const h=l.split(".")[0],c=l.split(".")[1]||"*";a[h]=a[h]||{},a[h][c]=a[h][c]||{},a[h][c][n._svgjsListenerId]=s,u.addEventListener(h,s,r||!1)})}function xt(e,t,n,i){const r=F(e),s=kn(r),o=Ie(r);typeof n=="function"&&(n=n._svgjsListenerId,!n)||(t=Array.isArray(t)?t:(t||"").split(et),t.forEach(function(a){const u=a&&a.split(".")[0],l=a&&a.split(".")[1];let h,c;if(n)s[u]&&s[u][l||"*"]&&(o.removeEventListener(u,s[u][l||"*"][n],i||!1),delete s[u][l||"*"][n]);else if(u&&l){if(s[u]&&s[u][l]){for(c in s[u][l])xt(o,[u,l].join("."),c);delete s[u][l]}}else if(l)for(a in s)for(h in s[a])l===h&&xt(o,[a,l].join("."));else if(u){if(s[u]){for(h in s[u])xt(o,[u,h].join("."));delete s[u]}}else{for(a in s)xt(o,a);Xr(r)}}))}function Ur(e,t,n,i){const r=Ie(e);return t instanceof M.window.Event||(t=new M.window.CustomEvent(t,{detail:n,cancelable:!0,...i})),r.dispatchEvent(t),t}class Rt extends Ne{addEventListener(){}dispatch(t,n,i){return Ur(this,t,n,i)}dispatchEvent(t){const n=this.getEventHolder().events;if(!n)return!0;const i=n[t.type];for(const r in i)for(const s in i[r])i[r][s](t);return!t.defaultPrevented}fire(t,n,i){return this.dispatch(t,n,i),this}getEventHolder(){return this}getEventTarget(){return this}off(t,n,i){return xt(this,t,n,i),this}on(t,n,i,r){return be(this,t,n,i,r),this}removeEventListener(){}}S(Rt,"EventTarget");function rn(){}const Ot={duration:400,ease:">",delay:0},Gr={"fill-opacity":1,"stroke-opacity":1,"stroke-width":0,"stroke-linejoin":"miter","stroke-linecap":"butt",fill:"#000000",stroke:"#000000",opacity:1,x:0,y:0,cx:0,cy:0,width:0,height:0,r:0,rx:0,ry:0,offset:0,"stop-opacity":1,"stop-color":"#000000","text-anchor":"start"};class kt extends Array{constructor(...t){super(...t),this.init(...t)}clone(){return new this.constructor(this)}init(t){return typeof t=="number"?this:(this.length=0,this.push(...this.parse(t)),this)}parse(t=[]){return t instanceof Array?t:t.trim().split(et).map(parseFloat)}toArray(){return Array.prototype.concat.apply([],this)}toSet(){return new Set(this)}toString(){return this.join(" ")}valueOf(){const t=[];return t.push(...this),t}}class y{constructor(...t){this.init(...t)}convert(t){return new y(this.value,t)}divide(t){return t=new y(t),new y(this/t,this.unit||t.unit)}init(t,n){return n=Array.isArray(t)?t[1]:n,t=Array.isArray(t)?t[0]:t,this.value=0,this.unit=n||"",typeof t=="number"?this.value=isNaN(t)?0:isFinite(t)?t:t<0?-34e37:34e37:typeof t=="string"?(n=t.match(yn),n&&(this.value=parseFloat(n[1]),n[5]==="%"?this.value/=100:n[5]==="s"&&(this.value*=1e3),this.unit=n[5])):t instanceof y&&(this.value=t.valueOf(),this.unit=t.unit),this}minus(t){return t=new y(t),new y(this-t,this.unit||t.unit)}plus(t){return t=new y(t),new y(this+t,this.unit||t.unit)}times(t){return t=new y(t),new y(this*t,this.unit||t.unit)}toArray(){return[this.value,this.unit]}toJSON(){return this.toString()}toString(){return(this.unit==="%"?~~(this.value*1e8)/1e6:this.unit==="s"?this.value/1e3:this.value)+this.unit}valueOf(){return this.value}}const Wr=new Set(["fill","stroke","color","bgcolor","stop-color","flood-color","lighting-color"]),Mn=[];function Jr(e){Mn.push(e)}function Qr(e,t,n){if(e==null){e={},t=this.node.attributes;for(const i of t)e[i.nodeName]=nn.test(i.nodeValue)?parseFloat(i.nodeValue):i.nodeValue;return e}else{if(e instanceof Array)return e.reduce((i,r)=>(i[r]=this.attr(r),i),{});if(typeof e=="object"&&e.constructor===Object)for(t in e)this.attr(t,e[t]);else if(t===null)this.node.removeAttribute(e);else{if(t==null)return t=this.node.getAttribute(e),t==null?Gr[e]:nn.test(t)?parseFloat(t):t;t=Mn.reduce((i,r)=>r(e,i,this),t),typeof t=="number"?t=new y(t):Wr.has(e)&&A.isColor(t)?t=new A(t):t.constructor===Array&&(t=new kt(t)),e==="leading"?this.leading&&this.leading(t):typeof n=="string"?this.node.setAttributeNS(n,e,t.toString()):this.node.setAttribute(e,t.toString()),this.rebuild&&(e==="font-size"||e==="x")&&this.rebuild()}}return this}class rt extends Rt{constructor(t,n){super(),this.node=t,this.type=t.nodeName,n&&t!==n&&this.attr(n)}add(t,n){return t=F(t),t.removeNamespace&&this.node instanceof M.window.SVGElement&&t.removeNamespace(),n==null?this.node.appendChild(t.node):t.node!==this.node.childNodes[n]&&this.node.insertBefore(t.node,this.node.childNodes[n]),this}addTo(t,n){return F(t).put(this,n)}children(){return new ft(Ce(this.node.children,function(t){return U(t)}))}clear(){for(;this.node.hasChildNodes();)this.node.removeChild(this.node.lastChild);return this}clone(t=!0,n=!0){this.writeDataToDom();let i=this.node.cloneNode(t);return n&&(i=xn(i)),new this.constructor(i)}each(t,n){const i=this.children();let r,s;for(r=0,s=i.length;r<s;r++)t.apply(i[r],[r,i]),n&&i[r].each(t,n);return this}element(t,n){return this.put(new rt(Nt(t),n))}first(){return U(this.node.firstChild)}get(t){return U(this.node.childNodes[t])}getEventHolder(){return this.node}getEventTarget(){return this.node}has(t){return this.index(t)>=0}html(t,n){return this.xml(t,n,Ji)}id(t){return typeof t>"u"&&!this.node.id&&(this.node.id=bn(this.type)),this.attr("id",t)}index(t){return[].slice.call(this.node.childNodes).indexOf(t.node)}last(){return U(this.node.lastChild)}matches(t){const n=this.node,i=n.matches||n.matchesSelector||n.msMatchesSelector||n.mozMatchesSelector||n.webkitMatchesSelector||n.oMatchesSelector||null;return i&&i.call(n,t)}parent(t){let n=this;if(!n.node.parentNode)return null;if(n=U(n.node.parentNode),!t)return n;do if(typeof t=="string"?n.matches(t):n instanceof t)return n;while(n=U(n.node.parentNode));return n}put(t,n){return t=F(t),this.add(t,n),t}putIn(t,n){return F(t).add(this,n)}remove(){return this.parent()&&this.parent().removeElement(this),this}removeElement(t){return this.node.removeChild(t.node),this}replace(t){return t=F(t),this.node.parentNode&&this.node.parentNode.replaceChild(t.node,this.node),t}round(t=2,n=null){const i=10**t,r=this.attr(n);for(const s in r)typeof r[s]=="number"&&(r[s]=Math.round(r[s]*i)/i);return this.attr(r),this}svg(t,n){return this.xml(t,n,Ee)}toString(){return this.id()}words(t){return this.node.textContent=t,this}wrap(t){const n=this.parent();if(!n)return this.addTo(t);const i=n.index(this);return n.put(t,i).put(this)}writeDataToDom(){return this.each(function(){this.writeDataToDom()}),this}xml(t,n,i){if(typeof t=="boolean"&&(i=n,n=t,t=null),t==null||typeof t=="function"){n=n??!0,this.writeDataToDom();let a=this;if(t!=null){if(a=U(a.node.cloneNode(!0)),n){const u=t(a);if(a=u||a,u===!1)return""}a.each(function(){const u=t(this),l=u||this;u===!1?this.remove():u&&this!==l&&this.replace(l)},!0)}return n?a.node.outerHTML:a.node.innerHTML}n=n??!1;const r=Nt("wrapper",i),s=M.document.createDocumentFragment();r.innerHTML=t;for(let a=r.children.length;a--;)s.appendChild(r.firstElementChild);const o=this.parent();return n?this.replace(s)&&o:this.add(s)}}k(rt,{attr:Qr,find:Yr,findOne:Vr});S(rt,"Dom");let Q=class extends rt{constructor(t,n){super(t,n),this.dom={},this.node.instance=this,(t.hasAttribute("data-svgjs")||t.hasAttribute("svgjs:data"))&&this.setData(JSON.parse(t.getAttribute("data-svgjs"))??JSON.parse(t.getAttribute("svgjs:data"))??{})}center(t,n){return this.cx(t).cy(n)}cx(t){return t==null?this.x()+this.width()/2:this.x(t-this.width()/2)}cy(t){return t==null?this.y()+this.height()/2:this.y(t-this.height()/2)}defs(){const t=this.root();return t&&t.defs()}dmove(t,n){return this.dx(t).dy(n)}dx(t=0){return this.x(new y(t).plus(this.x()))}dy(t=0){return this.y(new y(t).plus(this.y()))}getEventHolder(){return this}height(t){return this.attr("height",t)}move(t,n){return this.x(t).y(n)}parents(t=this.root()){const n=typeof t=="string";n||(t=F(t));const i=new ft;let r=this;for(;(r=r.parent())&&r.node!==M.document&&r.nodeName!=="#document-fragment"&&(i.push(r),!(!n&&r.node===t.node||n&&r.matches(t)));)if(r.node===this.root().node)return null;return i}reference(t){if(t=this.attr(t),!t)return null;const n=(t+"").match(gr);return n?F(n[1]):null}root(){const t=this.parent(Ki(je));return t&&t.root()}setData(t){return this.dom=t,this}size(t,n){const i=Mt(this,t,n);return this.width(new y(i.width)).height(new y(i.height))}width(t){return this.attr("width",t)}writeDataToDom(){return mn(this,this.dom),super.writeDataToDom()}x(t){return this.attr("x",t)}y(t){return this.attr("y",t)}};k(Q,{bbox:qr,rbox:Lr,inside:$r,point:Dr,ctm:Rr,screenCTM:Fr});S(Q,"Element");const At={stroke:["color","width","opacity","linecap","linejoin","miterlimit","dasharray","dashoffset"],fill:["color","opacity","rule"],prefix:function(e,t){return t==="color"?e:e+"-"+t}};["fill","stroke"].forEach(function(e){const t={};let n;t[e]=function(i){if(typeof i>"u")return this.attr(e);if(typeof i=="string"||i instanceof A||A.isRgb(i)||i instanceof Q)this.attr(e,i);else for(n=At[e].length-1;n>=0;n--)i[At[e][n]]!=null&&this.attr(At.prefix(e,At[e][n]),i[At[e][n]]);return this},_(["Element","Runner"],t)});_(["Element","Runner"],{matrix:function(e,t,n,i,r,s){return e==null?new b(this):this.attr("transform",new b(e,t,n,i,r,s))},rotate:function(e,t,n){return this.transform({rotate:e,ox:t,oy:n},!0)},skew:function(e,t,n,i){return arguments.length===1||arguments.length===3?this.transform({skew:e,ox:t,oy:n},!0):this.transform({skew:[e,t],ox:n,oy:i},!0)},shear:function(e,t,n){return this.transform({shear:e,ox:t,oy:n},!0)},scale:function(e,t,n,i){return arguments.length===1||arguments.length===3?this.transform({scale:e,ox:t,oy:n},!0):this.transform({scale:[e,t],ox:n,oy:i},!0)},translate:function(e,t){return this.transform({translate:[e,t]},!0)},relative:function(e,t){return this.transform({relative:[e,t]},!0)},flip:function(e="both",t="center"){return"xybothtrue".indexOf(e)===-1&&(t=e,e="both"),this.transform({flip:e,origin:t},!0)},opacity:function(e){return this.attr("opacity",e)}});_("radius",{radius:function(e,t=e){return(this._element||this).type==="radialGradient"?this.attr("r",new y(e)):this.rx(e).ry(t)}});_("Path",{length:function(){return this.node.getTotalLength()},pointAt:function(e){return new j(this.node.getPointAtLength(e))}});_(["Element","Runner"],{font:function(e,t){if(typeof e=="object"){for(t in e)this.font(t,e[t]);return this}return e==="leading"?this.leading(t):e==="anchor"?this.attr("text-anchor",t):e==="size"||e==="family"||e==="weight"||e==="stretch"||e==="variant"||e==="style"?this.attr("font-"+e,t):this.attr(e,t)}});const Kr=["click","dblclick","mousedown","mouseup","mouseover","mouseout","mousemove","mouseenter","mouseleave","touchstart","touchmove","touchleave","touchend","touchcancel","contextmenu","wheel","pointerdown","pointermove","pointerup","pointerleave","pointercancel"].reduce(function(e,t){const n=function(i){return i===null?this.off(t):this.on(t,i),this};return e[t]=n,e},{});_("Element",Kr);function Zr(){return this.attr("transform",null)}function ts(){return(this.attr("transform")||"").split(pr).slice(0,-1).map(function(t){const n=t.trim().split("(");return[n[0],n[1].split(et).map(function(i){return parseFloat(i)})]}).reverse().reduce(function(t,n){return n[0]==="matrix"?t.lmultiply(b.fromArray(n[1])):t[n[0]].apply(t,n[1])},new b)}function es(e,t){if(this===e)return this;if(me(this.node))return this.addTo(e,t);const n=this.screenCTM(),i=e.screenCTM().inverse();return this.addTo(e,t).untransform().transform(i.multiply(n)),this}function ns(e){return this.toParent(this.root(),e)}function is(e,t){if(e==null||typeof e=="string"){const r=new b(this).decompose();return e==null?r:r[e]}b.isMatrixLike(e)||(e={...e,origin:pe(e,this)});const n=t===!0?this:t||!1,i=new b(n).transform(e);return this.attr("transform",i)}_("Element",{untransform:Zr,matrixify:ts,toParent:es,toRoot:ns,transform:is});class L extends Q{flatten(){return this.each(function(){if(this instanceof L)return this.flatten().ungroup()}),this}ungroup(t=this.parent(),n=t.index(this)){return n=n===-1?t.children().length:n,this.each(function(i,r){return r[r.length-i-1].toParent(t,n)}),this.remove()}}S(L,"Container");class De extends L{constructor(t,n=t){super(N("defs",t),n)}flatten(){return this}ungroup(){return this}}S(De,"Defs");class H extends Q{}S(H,"Shape");function Re(e){return this.attr("rx",e)}function Fe(e){return this.attr("ry",e)}function Sn(e){return e==null?this.cx()-this.rx():this.cx(e+this.rx())}function Tn(e){return e==null?this.cy()-this.ry():this.cy(e+this.ry())}function An(e){return this.attr("cx",e)}function On(e){return this.attr("cy",e)}function Cn(e){return e==null?this.rx()*2:this.rx(new y(e).divide(2))}function En(e){return e==null?this.ry()*2:this.ry(new y(e).divide(2))}const rs=Object.freeze(Object.defineProperty({__proto__:null,cx:An,cy:On,height:En,rx:Re,ry:Fe,width:Cn,x:Sn,y:Tn},Symbol.toStringTag,{value:"Module"}));class Qt extends H{constructor(t,n=t){super(N("ellipse",t),n)}size(t,n){const i=Mt(this,t,n);return this.rx(new y(i.width).divide(2)).ry(new y(i.height).divide(2))}}k(Qt,rs);_("Container",{ellipse:E(function(e=0,t=e){return this.put(new Qt).size(e,t).move(0,0)})});S(Qt,"Ellipse");class Nn extends rt{constructor(t=M.document.createDocumentFragment()){super(t)}xml(t,n,i){if(typeof t=="boolean"&&(i=n,n=t,t=null),t==null||typeof t=="function"){const r=new rt(Nt("wrapper",i));return r.add(this.node.cloneNode(!0)),r.xml(!1,i)}return super.xml(t,!1,i)}}S(Nn,"Fragment");function jn(e,t){return(this._element||this).type==="radialGradient"?this.attr({fx:new y(e),fy:new y(t)}):this.attr({x1:new y(e),y1:new y(t)})}function zn(e,t){return(this._element||this).type==="radialGradient"?this.attr({cx:new y(e),cy:new y(t)}):this.attr({x2:new y(e),y2:new y(t)})}const ss=Object.freeze(Object.defineProperty({__proto__:null,from:jn,to:zn},Symbol.toStringTag,{value:"Module"}));class Ft extends L{constructor(t,n){super(N(t+"Gradient",typeof t=="string"?null:t),n)}attr(t,n,i){return t==="transform"&&(t="gradientTransform"),super.attr(t,n,i)}bbox(){return new D}targets(){return St("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}k(Ft,ss);_({Container:{gradient(...e){return this.defs().gradient(...e)}},Defs:{gradient:E(function(e,t){return this.put(new Ft(e)).update(t)})}});S(Ft,"Gradient");class jt extends L{constructor(t,n=t){super(N("pattern",t),n)}attr(t,n,i){return t==="transform"&&(t="patternTransform"),super.attr(t,n,i)}bbox(){return new D}targets(){return St("svg [fill*="+this.id()+"]")}toString(){return this.url()}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}url(){return"url(#"+this.id()+")"}}_({Container:{pattern(...e){return this.defs().pattern(...e)}},Defs:{pattern:E(function(e,t,n){return this.put(new jt).update(n).attr({x:0,y:0,width:e,height:t,patternUnits:"userSpaceOnUse"})})}});S(jt,"Pattern");class Kt extends H{constructor(t,n=t){super(N("image",t),n)}load(t,n){if(!t)return this;const i=new M.window.Image;return be(i,"load",function(r){const s=this.parent(jt);this.width()===0&&this.height()===0&&this.size(i.width,i.height),s instanceof jt&&s.width()===0&&s.height()===0&&s.size(this.width(),this.height()),typeof n=="function"&&n.call(this,r)},this),be(i,"load error",function(){xt(i)}),this.attr("href",i.src=t,Dt)}}Jr(function(e,t,n){return(e==="fill"||e==="stroke")&&br.test(t)&&(t=n.root().defs().image(t)),t instanceof Kt&&(t=n.root().defs().pattern(0,0,i=>{i.add(t)})),t});_({Container:{image:E(function(e,t){return this.put(new Kt).size(0,0).load(e,t)})}});S(Kt,"Image");class st extends kt{bbox(){let t=-1/0,n=-1/0,i=1/0,r=1/0;return this.forEach(function(s){t=Math.max(s[0],t),n=Math.max(s[1],n),i=Math.min(s[0],i),r=Math.min(s[1],r)}),new D(i,r,t-i,n-r)}move(t,n){const i=this.bbox();if(t-=i.x,n-=i.y,!isNaN(t)&&!isNaN(n))for(let r=this.length-1;r>=0;r--)this[r]=[this[r][0]+t,this[r][1]+n];return this}parse(t=[0,0]){const n=[];t instanceof Array?t=Array.prototype.concat.apply([],t):t=t.trim().split(et).map(parseFloat),t.length%2!==0&&t.pop();for(let i=0,r=t.length;i<r;i=i+2)n.push([t[i],t[i+1]]);return n}size(t,n){let i;const r=this.bbox();for(i=this.length-1;i>=0;i--)r.width&&(this[i][0]=(this[i][0]-r.x)*t/r.width+r.x),r.height&&(this[i][1]=(this[i][1]-r.y)*n/r.height+r.y);return this}toLine(){return{x1:this[0][0],y1:this[0][1],x2:this[1][0],y2:this[1][1]}}toString(){const t=[];for(let n=0,i=this.length;n<i;n++)t.push(this[n].join(","));return t.join(" ")}transform(t){return this.clone().transformO(t)}transformO(t){b.isMatrixLike(t)||(t=new b(t));for(let n=this.length;n--;){const[i,r]=this[n];this[n][0]=t.a*i+t.c*r+t.e,this[n][1]=t.b*i+t.d*r+t.f}return this}}const os=st;function as(e){return e==null?this.bbox().x:this.move(e,this.bbox().y)}function us(e){return e==null?this.bbox().y:this.move(this.bbox().x,e)}function ls(e){const t=this.bbox();return e==null?t.width:this.size(e,t.height)}function hs(e){const t=this.bbox();return e==null?t.height:this.size(t.width,e)}const Pe=Object.freeze(Object.defineProperty({__proto__:null,MorphArray:os,height:hs,width:ls,x:as,y:us},Symbol.toStringTag,{value:"Module"}));class zt extends H{constructor(t,n=t){super(N("line",t),n)}array(){return new st([[this.attr("x1"),this.attr("y1")],[this.attr("x2"),this.attr("y2")]])}move(t,n){return this.attr(this.array().move(t,n).toLine())}plot(t,n,i,r){return t==null?this.array():(typeof n<"u"?t={x1:t,y1:n,x2:i,y2:r}:t=new st(t).toLine(),this.attr(t))}size(t,n){const i=Mt(this,t,n);return this.attr(this.array().size(i.width,i.height).toLine())}}k(zt,Pe);_({Container:{line:E(function(...e){return zt.prototype.plot.apply(this.put(new zt),e[0]!=null?e:[0,0,0,0])})}});S(zt,"Line");class Xt extends L{constructor(t,n=t){super(N("marker",t),n)}height(t){return this.attr("markerHeight",t)}orient(t){return this.attr("orient",t)}ref(t,n){return this.attr("refX",t).attr("refY",n)}toString(){return"url(#"+this.id()+")"}update(t){return this.clear(),typeof t=="function"&&t.call(this,this),this}width(t){return this.attr("markerWidth",t)}}_({Container:{marker(...e){return this.defs().marker(...e)}},Defs:{marker:E(function(e,t,n){return this.put(new Xt).size(e,t).ref(e/2,t/2).viewbox(0,0,e,t).attr("orient","auto").update(n)})},marker:{marker(e,t,n,i){let r=["marker"];return e!=="all"&&r.push(e),r=r.join("-"),e=arguments[1]instanceof Xt?arguments[1]:this.defs().marker(t,n,i),this.attr(r,e)}}});S(Xt,"Marker");function yt(e,t){return function(n){return n==null?this[e]:(this[e]=n,t&&t.call(this),this)}}const cs={"-":function(e){return e},"<>":function(e){return-Math.cos(e*Math.PI)/2+.5},">":function(e){return Math.sin(e*Math.PI/2)},"<":function(e){return-Math.cos(e*Math.PI/2)+1},bezier:function(e,t,n,i){return function(r){return r<0?e>0?t/e*r:n>0?i/n*r:0:r>1?n<1?(1-i)/(1-n)*r+(i-n)/(1-n):e<1?(1-t)/(1-e)*r+(t-e)/(1-e):1:3*r*(1-r)**2*t+3*r**2*(1-r)*i+r**3}},steps:function(e,t="end"){t=t.split("-").reverse()[0];let n=e;return t==="none"?--n:t==="both"&&++n,(i,r=!1)=>{let s=Math.floor(i*e);const o=i*s%1===0;return(t==="start"||t==="both")&&++s,r&&o&&--s,i>=0&&s<0&&(s=0),i<=1&&s>n&&(s=n),s/n}}};class qe{done(){return!1}}class xe extends qe{constructor(t=Ot.ease){super(),this.ease=cs[t]||t}step(t,n,i){return typeof t!="number"?i<1?t:n:t+(n-t)*this.ease(i)}}class Ut extends qe{constructor(t){super(),this.stepper=t}done(t){return t.done}step(t,n,i,r){return this.stepper(t,n,i,r)}}function sn(){const e=(this._duration||500)/1e3,t=this._overshoot||0,n=1e-10,i=Math.PI,r=Math.log(t/100+n),s=-r/Math.sqrt(i*i+r*r),o=3.9/(s*e);this.d=2*s*o,this.k=o*o}class fs extends Ut{constructor(t=500,n=0){super(),this.duration(t).overshoot(n)}step(t,n,i,r){if(typeof t=="string")return t;if(r.done=i===1/0,i===1/0)return n;if(i===0)return t;i>100&&(i=16),i/=1e3;const s=r.velocity||0,o=-this.d*s-this.k*(t-n),a=t+s*i+o*i*i/2;return r.velocity=s+o*i,r.done=Math.abs(n-a)+Math.abs(s)<.002,r.done?n:a}}k(fs,{duration:yt("_duration",sn),overshoot:yt("_overshoot",sn)});class ds extends Ut{constructor(t=.1,n=.01,i=0,r=1e3){super(),this.p(t).i(n).d(i).windup(r)}step(t,n,i,r){if(typeof t=="string")return t;if(r.done=i===1/0,i===1/0)return n;if(i===0)return t;const s=n-t;let o=(r.integral||0)+s*i;const a=(s-(r.error||0))/i,u=this._windup;return u!==!1&&(o=Math.max(-u,Math.min(o,u))),r.error=s,r.integral=o,r.done=Math.abs(s)<.001,r.done?n:t+(this.P*s+this.I*o+this.D*a)}}k(ds,{windup:yt("_windup"),p:yt("P"),i:yt("I"),d:yt("D")});const gs={M:2,L:2,H:1,V:1,C:6,S:4,Q:4,T:2,A:7,Z:0},ye={M:function(e,t,n){return t.x=n.x=e[0],t.y=n.y=e[1],["M",t.x,t.y]},L:function(e,t){return t.x=e[0],t.y=e[1],["L",e[0],e[1]]},H:function(e,t){return t.x=e[0],["H",e[0]]},V:function(e,t){return t.y=e[0],["V",e[0]]},C:function(e,t){return t.x=e[4],t.y=e[5],["C",e[0],e[1],e[2],e[3],e[4],e[5]]},S:function(e,t){return t.x=e[2],t.y=e[3],["S",e[0],e[1],e[2],e[3]]},Q:function(e,t){return t.x=e[2],t.y=e[3],["Q",e[0],e[1],e[2],e[3]]},T:function(e,t){return t.x=e[0],t.y=e[1],["T",e[0],e[1]]},Z:function(e,t,n){return t.x=n.x,t.y=n.y,["Z"]},A:function(e,t){return t.x=e[5],t.y=e[6],["A",e[0],e[1],e[2],e[3],e[4],e[5],e[6]]}},he="mlhvqtcsaz".split("");for(let e=0,t=he.length;e<t;++e)ye[he[e]]=function(n){return function(i,r,s){if(n==="H")i[0]=i[0]+r.x;else if(n==="V")i[0]=i[0]+r.y;else if(n==="A")i[5]=i[5]+r.x,i[6]=i[6]+r.y;else for(let o=0,a=i.length;o<a;++o)i[o]=i[o]+(o%2?r.y:r.x);return ye[n](i,r,s)}}(he[e].toUpperCase());function ps(e){const t=e.segment[0];return ye[t](e.segment.slice(1),e.p,e.p0)}function we(e){return e.segment.length&&e.segment.length-1===gs[e.segment[0].toUpperCase()]}function ms(e,t){e.inNumber&&at(e,!1);const n=ze.test(t);if(n)e.segment=[t];else{const i=e.lastCommand,r=i.toLowerCase(),s=i===r;e.segment=[r==="m"?s?"l":"L":i]}return e.inSegment=!0,e.lastCommand=e.segment[0],n}function at(e,t){if(!e.inNumber)throw new Error("Parser Error");e.number&&e.segment.push(parseFloat(e.number)),e.inNumber=t,e.number="",e.pointSeen=!1,e.hasExponent=!1,we(e)&&_e(e)}function _e(e){e.inSegment=!1,e.absolute&&(e.segment=ps(e)),e.segments.push(e.segment)}function bs(e){if(!e.segment.length)return!1;const t=e.segment[0].toUpperCase()==="A",n=e.segment.length;return t&&(n===4||n===5)}function xs(e){return e.lastToken.toUpperCase()==="E"}const ys=new Set([" ",",","	",`
`,"\r","\f"]);function ws(e,t=!0){let n=0,i="";const r={segment:[],inNumber:!1,number:"",lastToken:"",inSegment:!1,segments:[],pointSeen:!1,hasExponent:!1,absolute:t,p0:new j,p:new j};for(;r.lastToken=i,i=e.charAt(n++);)if(!(!r.inSegment&&ms(r,i))){if(i==="."){if(r.pointSeen||r.hasExponent){at(r,!1),--n;continue}r.inNumber=!0,r.pointSeen=!0,r.number+=i;continue}if(!isNaN(parseInt(i))){if(r.number==="0"||bs(r)){r.inNumber=!0,r.number=i,at(r,!0);continue}r.inNumber=!0,r.number+=i;continue}if(ys.has(i)){r.inNumber&&at(r,!1);continue}if(i==="-"||i==="+"){if(r.inNumber&&!xs(r)){at(r,!1),--n;continue}r.number+=i,r.inNumber=!0;continue}if(i.toUpperCase()==="E"){r.number+=i,r.hasExponent=!0;continue}if(ze.test(i)){if(r.inNumber)at(r,!1);else if(we(r))_e(r);else throw new Error("parser Error");--n}}return r.inNumber&&at(r,!1),r.inSegment&&we(r)&&_e(r),r.segments}function _s(e){let t="";for(let n=0,i=e.length;n<i;n++)t+=e[n][0],e[n][1]!=null&&(t+=e[n][1],e[n][2]!=null&&(t+=" ",t+=e[n][2],e[n][3]!=null&&(t+=" ",t+=e[n][3],t+=" ",t+=e[n][4],e[n][5]!=null&&(t+=" ",t+=e[n][5],t+=" ",t+=e[n][6],e[n][7]!=null&&(t+=" ",t+=e[n][7])))));return t+" "}class dt extends kt{bbox(){return it().path.setAttribute("d",this.toString()),new D(it.nodes.path.getBBox())}move(t,n){const i=this.bbox();if(t-=i.x,n-=i.y,!isNaN(t)&&!isNaN(n))for(let r,s=this.length-1;s>=0;s--)r=this[s][0],r==="M"||r==="L"||r==="T"?(this[s][1]+=t,this[s][2]+=n):r==="H"?this[s][1]+=t:r==="V"?this[s][1]+=n:r==="C"||r==="S"||r==="Q"?(this[s][1]+=t,this[s][2]+=n,this[s][3]+=t,this[s][4]+=n,r==="C"&&(this[s][5]+=t,this[s][6]+=n)):r==="A"&&(this[s][6]+=t,this[s][7]+=n);return this}parse(t="M0 0"){return Array.isArray(t)&&(t=Array.prototype.concat.apply([],t).toString()),ws(t)}size(t,n){const i=this.bbox();let r,s;for(i.width=i.width===0?1:i.width,i.height=i.height===0?1:i.height,r=this.length-1;r>=0;r--)s=this[r][0],s==="M"||s==="L"||s==="T"?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*n/i.height+i.y):s==="H"?this[r][1]=(this[r][1]-i.x)*t/i.width+i.x:s==="V"?this[r][1]=(this[r][1]-i.y)*n/i.height+i.y:s==="C"||s==="S"||s==="Q"?(this[r][1]=(this[r][1]-i.x)*t/i.width+i.x,this[r][2]=(this[r][2]-i.y)*n/i.height+i.y,this[r][3]=(this[r][3]-i.x)*t/i.width+i.x,this[r][4]=(this[r][4]-i.y)*n/i.height+i.y,s==="C"&&(this[r][5]=(this[r][5]-i.x)*t/i.width+i.x,this[r][6]=(this[r][6]-i.y)*n/i.height+i.y)):s==="A"&&(this[r][1]=this[r][1]*t/i.width,this[r][2]=this[r][2]*n/i.height,this[r][6]=(this[r][6]-i.x)*t/i.width+i.x,this[r][7]=(this[r][7]-i.y)*n/i.height+i.y);return this}toString(){return _s(this)}}const In=e=>{const t=typeof e;return t==="number"?y:t==="string"?A.isColor(e)?A:et.test(e)?ze.test(e)?dt:kt:yn.test(e)?y:ve:Le.indexOf(e.constructor)>-1?e.constructor:Array.isArray(e)?kt:t==="object"?It:ve};class ut{constructor(t){this._stepper=t||new xe("-"),this._from=null,this._to=null,this._type=null,this._context=null,this._morphObj=null}at(t){return this._morphObj.morph(this._from,this._to,t,this._stepper,this._context)}done(){return this._context.map(this._stepper.done).reduce(function(n,i){return n&&i},!0)}from(t){return t==null?this._from:(this._from=this._set(t),this)}stepper(t){return t==null?this._stepper:(this._stepper=t,this)}to(t){return t==null?this._to:(this._to=this._set(t),this)}type(t){return t==null?this._type:(this._type=t,this)}_set(t){this._type||this.type(In(t));let n=new this._type(t);return this._type===A&&(n=this._to?n[this._to[4]]():this._from?n[this._from[4]]():n),this._type===It&&(n=this._to?n.align(this._to):this._from?n.align(this._from):n),n=n.toConsumable(),this._morphObj=this._morphObj||new this._type,this._context=this._context||Array.apply(null,Array(n.length)).map(Object).map(function(i){return i.done=!0,i}),n}}class ve{constructor(...t){this.init(...t)}init(t){return t=Array.isArray(t)?t[0]:t,this.value=t,this}toArray(){return[this.value]}valueOf(){return this.value}}class Pt{constructor(...t){this.init(...t)}init(t){return Array.isArray(t)&&(t={scaleX:t[0],scaleY:t[1],shear:t[2],rotate:t[3],translateX:t[4],translateY:t[5],originX:t[6],originY:t[7]}),Object.assign(this,Pt.defaults,t),this}toArray(){const t=this;return[t.scaleX,t.scaleY,t.shear,t.rotate,t.translateX,t.translateY,t.originX,t.originY]}}Pt.defaults={scaleX:1,scaleY:1,shear:0,rotate:0,translateX:0,translateY:0,originX:0,originY:0};const vs=(e,t)=>e[0]<t[0]?-1:e[0]>t[0]?1:0;class It{constructor(...t){this.init(...t)}align(t){const n=this.values;for(let i=0,r=n.length;i<r;++i){if(n[i+1]===t[i+1]){if(n[i+1]===A&&t[i+7]!==n[i+7]){const a=t[i+7],u=new A(this.values.splice(i+3,5))[a]().toArray();this.values.splice(i+3,0,...u)}i+=n[i+2]+2;continue}if(!t[i+1])return this;const s=new t[i+1]().toArray(),o=n[i+2]+3;n.splice(i,o,t[i],t[i+1],t[i+2],...s),i+=n[i+2]+2}return this}init(t){if(this.values=[],Array.isArray(t)){this.values=t.slice();return}t=t||{};const n=[];for(const i in t){const r=In(t[i]),s=new r(t[i]).toArray();n.push([i,r,s.length,...s])}return n.sort(vs),this.values=n.reduce((i,r)=>i.concat(r),[]),this}toArray(){return this.values}valueOf(){const t={},n=this.values;for(;n.length;){const i=n.shift(),r=n.shift(),s=n.shift(),o=n.splice(0,s);t[i]=new r(o)}return t}}const Le=[ve,Pt,It];function ks(e=[]){Le.push(...[].concat(e))}function Ms(){k(Le,{to(e){return new ut().type(this.constructor).from(this.toArray()).to(e)},fromArray(e){return this.init(e),this},toConsumable(){return this.toArray()},morph(e,t,n,i,r){const s=function(o,a){return i.step(o,t[a],n,r[a],r)};return this.fromArray(e.map(s))}})}class Tt extends H{constructor(t,n=t){super(N("path",t),n)}array(){return this._array||(this._array=new dt(this.attr("d")))}clear(){return delete this._array,this}height(t){return t==null?this.bbox().height:this.size(this.bbox().width,t)}move(t,n){return this.attr("d",this.array().move(t,n))}plot(t){return t==null?this.array():this.clear().attr("d",typeof t=="string"?t:this._array=new dt(t))}size(t,n){const i=Mt(this,t,n);return this.attr("d",this.array().size(i.width,i.height))}width(t){return t==null?this.bbox().width:this.size(t,this.bbox().height)}x(t){return t==null?this.bbox().x:this.move(t,this.bbox().y)}y(t){return t==null?this.bbox().y:this.move(this.bbox().x,t)}}Tt.prototype.MorphArray=dt;_({Container:{path:E(function(e){return this.put(new Tt).plot(e||new dt)})}});S(Tt,"Path");function Ss(){return this._array||(this._array=new st(this.attr("points")))}function Ts(){return delete this._array,this}function As(e,t){return this.attr("points",this.array().move(e,t))}function Os(e){return e==null?this.array():this.clear().attr("points",typeof e=="string"?e:this._array=new st(e))}function Cs(e,t){const n=Mt(this,e,t);return this.attr("points",this.array().size(n.width,n.height))}const Dn=Object.freeze(Object.defineProperty({__proto__:null,array:Ss,clear:Ts,move:As,plot:Os,size:Cs},Symbol.toStringTag,{value:"Module"}));class qt extends H{constructor(t,n=t){super(N("polygon",t),n)}}_({Container:{polygon:E(function(e){return this.put(new qt).plot(e||new st)})}});k(qt,Pe);k(qt,Dn);S(qt,"Polygon");class Lt extends H{constructor(t,n=t){super(N("polyline",t),n)}}_({Container:{polyline:E(function(e){return this.put(new Lt).plot(e||new st)})}});k(Lt,Pe);k(Lt,Dn);S(Lt,"Polyline");class Zt extends H{constructor(t,n=t){super(N("rect",t),n)}}k(Zt,{rx:Re,ry:Fe});_({Container:{rect:E(function(e,t){return this.put(new Zt).size(e,t)})}});S(Zt,"Rect");class ce{constructor(){this._first=null,this._last=null}first(){return this._first&&this._first.value}last(){return this._last&&this._last.value}push(t){const n=typeof t.next<"u"?t:{value:t,next:null,prev:null};return this._last?(n.prev=this._last,this._last.next=n,this._last=n):(this._last=n,this._first=n),n}remove(t){t.prev&&(t.prev.next=t.next),t.next&&(t.next.prev=t.prev),t===this._last&&(this._last=t.prev),t===this._first&&(this._first=t.next),t.prev=null,t.next=null}shift(){const t=this._first;return t?(this._first=t.next,this._first&&(this._first.prev=null),this._last=this._first?this._last:null,t.value):null}}const T={nextDraw:null,frames:new ce,timeouts:new ce,immediates:new ce,timer:()=>M.window.performance||M.window.Date,transforms:[],frame(e){const t=T.frames.push({run:e});return T.nextDraw===null&&(T.nextDraw=M.window.requestAnimationFrame(T._draw)),t},timeout(e,t){t=t||0;const n=T.timer().now()+t,i=T.timeouts.push({run:e,time:n});return T.nextDraw===null&&(T.nextDraw=M.window.requestAnimationFrame(T._draw)),i},immediate(e){const t=T.immediates.push(e);return T.nextDraw===null&&(T.nextDraw=M.window.requestAnimationFrame(T._draw)),t},cancelFrame(e){e!=null&&T.frames.remove(e)},clearTimeout(e){e!=null&&T.timeouts.remove(e)},cancelImmediate(e){e!=null&&T.immediates.remove(e)},_draw(e){let t=null;const n=T.timeouts.last();for(;(t=T.timeouts.shift())&&(e>=t.time?t.run():T.timeouts.push(t),t!==n););let i=null;const r=T.frames.last();for(;i!==r&&(i=T.frames.shift());)i.run(e);let s=null;for(;s=T.immediates.shift();)s();T.nextDraw=T.timeouts.first()||T.frames.first()?M.window.requestAnimationFrame(T._draw):null}},Es=function(e){const t=e.start,n=e.runner.duration(),i=t+n;return{start:t,duration:n,end:i,runner:e.runner}},Ns=function(){const e=M.window;return(e.performance||e.Date).now()};class Rn extends Rt{constructor(t=Ns){super(),this._timeSource=t,this.terminate()}active(){return!!this._nextFrame}finish(){return this.time(this.getEndTimeOfTimeline()+1),this.pause()}getEndTime(){const t=this.getLastRunnerInfo(),n=t?t.runner.duration():0;return(t?t.start:this._time)+n}getEndTimeOfTimeline(){const t=this._runners.map(n=>n.start+n.runner.duration());return Math.max(0,...t)}getLastRunnerInfo(){return this.getRunnerInfoById(this._lastRunnerId)}getRunnerInfoById(t){return this._runners[this._runnerIds.indexOf(t)]||null}pause(){return this._paused=!0,this._continue()}persist(t){return t==null?this._persist:(this._persist=t,this)}play(){return this._paused=!1,this.updateTime()._continue()}reverse(t){const n=this.speed();if(t==null)return this.speed(-n);const i=Math.abs(n);return this.speed(t?-i:i)}schedule(t,n,i){if(t==null)return this._runners.map(Es);let r=0;const s=this.getEndTime();if(n=n||0,i==null||i==="last"||i==="after")r=s;else if(i==="absolute"||i==="start")r=n,n=0;else if(i==="now")r=this._time;else if(i==="relative"){const u=this.getRunnerInfoById(t.id);u&&(r=u.start+n,n=0)}else if(i==="with-last"){const u=this.getLastRunnerInfo();r=u?u.start:this._time}else throw new Error('Invalid value for the "when" parameter');t.unschedule(),t.timeline(this);const o=t.persist(),a={persist:o===null?this._persist:o,start:r+n,runner:t};return this._lastRunnerId=t.id,this._runners.push(a),this._runners.sort((u,l)=>u.start-l.start),this._runnerIds=this._runners.map(u=>u.runner.id),this.updateTime()._continue(),this}seek(t){return this.time(this._time+t)}source(t){return t==null?this._timeSource:(this._timeSource=t,this)}speed(t){return t==null?this._speed:(this._speed=t,this)}stop(){return this.time(0),this.pause()}time(t){return t==null?this._time:(this._time=t,this._continue(!0))}unschedule(t){const n=this._runnerIds.indexOf(t.id);return n<0?this:(this._runners.splice(n,1),this._runnerIds.splice(n,1),t.timeline(null),this)}updateTime(){return this.active()||(this._lastSourceTime=this._timeSource()),this}_continue(t=!1){return T.cancelFrame(this._nextFrame),this._nextFrame=null,t?this._stepImmediate():this._paused?this:(this._nextFrame=T.frame(this._step),this)}_stepFn(t=!1){const n=this._timeSource();let i=n-this._lastSourceTime;t&&(i=0);const r=this._speed*i+(this._time-this._lastStepTime);this._lastSourceTime=n,t||(this._time+=r,this._time=this._time<0?0:this._time),this._lastStepTime=this._time,this.fire("time",this._time);for(let o=this._runners.length;o--;){const a=this._runners[o],u=a.runner;this._time-a.start<=0&&u.reset()}let s=!1;for(let o=0,a=this._runners.length;o<a;o++){const u=this._runners[o],l=u.runner;let h=r;const c=this._time-u.start;if(c<=0){s=!0;continue}else c<h&&(h=c);if(!l.active())continue;l.step(h).done?u.persist!==!0&&l.duration()-l.time()+this._time+u.persist<this._time&&(l.unschedule(),--o,--a):s=!0}return s&&!(this._speed<0&&this._time===0)||this._runnerIds.length&&this._speed<0&&this._time>0?this._continue():(this.pause(),this.fire("finished")),this}terminate(){this._startTime=0,this._speed=1,this._persist=0,this._nextFrame=null,this._paused=!0,this._runners=[],this._runnerIds=[],this._lastRunnerId=-1,this._time=0,this._lastSourceTime=0,this._lastStepTime=0,this._step=this._stepFn.bind(this,!1),this._stepImmediate=this._stepFn.bind(this,!0)}}_({Element:{timeline:function(e){return e==null?(this._timeline=this._timeline||new Rn,this._timeline):(this._timeline=e,this)}}});class V extends Rt{constructor(t){super(),this.id=V.id++,t=t??Ot.duration,t=typeof t=="function"?new Ut(t):t,this._element=null,this._timeline=null,this.done=!1,this._queue=[],this._duration=typeof t=="number"&&t,this._isDeclarative=t instanceof Ut,this._stepper=this._isDeclarative?t:new xe,this._history={},this.enabled=!0,this._time=0,this._lastTime=0,this._reseted=!0,this.transforms=new b,this.transformId=1,this._haveReversed=!1,this._reverse=!1,this._loopsDone=0,this._swing=!1,this._wait=0,this._times=1,this._frameId=null,this._persist=this._isDeclarative?!0:null}static sanitise(t,n,i){let r=1,s=!1,o=0;return t=t??Ot.duration,n=n??Ot.delay,i=i||"last",typeof t=="object"&&!(t instanceof qe)&&(n=t.delay??n,i=t.when??i,s=t.swing||s,r=t.times??r,o=t.wait??o,t=t.duration??Ot.duration),{duration:t,delay:n,swing:s,times:r,wait:o,when:i}}active(t){return t==null?this.enabled:(this.enabled=t,this)}addTransform(t){return this.transforms.lmultiplyO(t),this}after(t){return this.on("finished",t)}animate(t,n,i){const r=V.sanitise(t,n,i),s=new V(r.duration);return this._timeline&&s.timeline(this._timeline),this._element&&s.element(this._element),s.loop(r).schedule(r.delay,r.when)}clearTransform(){return this.transforms=new b,this}clearTransformsFromQueue(){(!this.done||!this._timeline||!this._timeline._runnerIds.includes(this.id))&&(this._queue=this._queue.filter(t=>!t.isTransform))}delay(t){return this.animate(0,t)}duration(){return this._times*(this._wait+this._duration)-this._wait}during(t){return this.queue(null,t)}ease(t){return this._stepper=new xe(t),this}element(t){return t==null?this._element:(this._element=t,t._prepareRunner(),this)}finish(){return this.step(1/0)}loop(t,n,i){return typeof t=="object"&&(n=t.swing,i=t.wait,t=t.times),this._times=t||1/0,this._swing=n||!1,this._wait=i||0,this._times===!0&&(this._times=1/0),this}loops(t){const n=this._duration+this._wait;if(t==null){const o=Math.floor(this._time/n),u=(this._time-o*n)/this._duration;return Math.min(o+u,this._times)}const i=Math.floor(t),r=t%1,s=n*i+this._duration*r;return this.time(s)}persist(t){return t==null?this._persist:(this._persist=t,this)}position(t){const n=this._time,i=this._duration,r=this._wait,s=this._times,o=this._swing,a=this._reverse;let u;if(t==null){const m=function(p){const f=o*Math.floor(p%(2*(r+i))/(r+i)),d=f&&!a||!f&&a,w=Math.pow(-1,d)*(p%(r+i))/i+d;return Math.max(Math.min(w,1),0)},x=s*(r+i)-r;return u=n<=0?Math.round(m(1e-5)):n<x?m(n):Math.round(m(x-1e-5)),u}const l=Math.floor(this.loops()),h=o&&l%2===0;return u=l+(h&&!a||a&&h?t:1-t),this.loops(u)}progress(t){return t==null?Math.min(1,this._time/this.duration()):this.time(t*this.duration())}queue(t,n,i,r){return this._queue.push({initialiser:t||rn,runner:n||rn,retarget:i,isTransform:r,initialised:!1,finished:!1}),this.timeline()&&this.timeline()._continue(),this}reset(){return this._reseted?this:(this.time(0),this._reseted=!0,this)}reverse(t){return this._reverse=t??!this._reverse,this}schedule(t,n,i){if(t instanceof Rn||(i=n,n=t,t=this.timeline()),!t)throw Error("Runner cannot be scheduled without timeline");return t.schedule(this,n,i),this}step(t){if(!this.enabled)return this;t=t??16,this._time+=t;const n=this.position(),i=this._lastPosition!==n&&this._time>=0;this._lastPosition=n;const r=this.duration(),s=this._lastTime<=0&&this._time>0,o=this._lastTime<r&&this._time>=r;this._lastTime=this._time,s&&this.fire("start",this);const a=this._isDeclarative;this.done=!a&&!o&&this._time>=r,this._reseted=!1;let u=!1;return(i||a)&&(this._initialise(i),this.transforms=new b,u=this._run(a?t:n),this.fire("step",this)),this.done=this.done||u&&a,o&&this.fire("finished",this),this}time(t){if(t==null)return this._time;const n=t-this._time;return this.step(n),this}timeline(t){return typeof t>"u"?this._timeline:(this._timeline=t,this)}unschedule(){const t=this.timeline();return t&&t.unschedule(this),this}_initialise(t){if(!(!t&&!this._isDeclarative))for(let n=0,i=this._queue.length;n<i;++n){const r=this._queue[n],s=this._isDeclarative||!r.initialised&&t;t=!r.finished,s&&t&&(r.initialiser.call(this),r.initialised=!0)}}_rememberMorpher(t,n){if(this._history[t]={morpher:n,caller:this._queue[this._queue.length-1]},this._isDeclarative){const i=this.timeline();i&&i.play()}}_run(t){let n=!0;for(let i=0,r=this._queue.length;i<r;++i){const s=this._queue[i],o=s.runner.call(this,t);s.finished=s.finished||o===!0,n=n&&s.finished}return n}_tryRetarget(t,n,i){if(this._history[t]){if(!this._history[t].caller.initialised){const s=this._queue.indexOf(this._history[t].caller);return this._queue.splice(s,1),!1}this._history[t].caller.retarget?this._history[t].caller.retarget.call(this,n,i):this._history[t].morpher.to(n),this._history[t].caller.finished=!1;const r=this.timeline();return r&&r.play(),!0}return!1}}V.id=0;class Gt{constructor(t=new b,n=-1,i=!0){this.transforms=t,this.id=n,this.done=i}clearTransformsFromQueue(){}}k([V,Gt],{mergeWith(e){return new Gt(e.transforms.lmultiply(this.transforms),e.id)}});const Fn=(e,t)=>e.lmultiplyO(t),Pn=e=>e.transforms;function js(){const t=this._transformationRunners.runners.map(Pn).reduce(Fn,new b);this.transform(t),this._transformationRunners.merge(),this._transformationRunners.length()===1&&(this._frameId=null)}class zs{constructor(){this.runners=[],this.ids=[]}add(t){if(this.runners.includes(t))return;const n=t.id+1;return this.runners.push(t),this.ids.push(n),this}clearBefore(t){const n=this.ids.indexOf(t+1)||1;return this.ids.splice(0,n,0),this.runners.splice(0,n,new Gt).forEach(i=>i.clearTransformsFromQueue()),this}edit(t,n){const i=this.ids.indexOf(t+1);return this.ids.splice(i,1,t+1),this.runners.splice(i,1,n),this}getByID(t){return this.runners[this.ids.indexOf(t+1)]}length(){return this.ids.length}merge(){let t=null;for(let n=0;n<this.runners.length;++n){const i=this.runners[n];if(t&&i.done&&t.done&&(!i._timeline||!i._timeline._runnerIds.includes(i.id))&&(!t._timeline||!t._timeline._runnerIds.includes(t.id))){this.remove(i.id);const s=i.mergeWith(t);this.edit(t.id,s),t=s,--n}else t=i}return this}remove(t){const n=this.ids.indexOf(t+1);return this.ids.splice(n,1),this.runners.splice(n,1),this}}_({Element:{animate(e,t,n){const i=V.sanitise(e,t,n),r=this.timeline();return new V(i.duration).loop(i).element(this).timeline(r.play()).schedule(i.delay,i.when)},delay(e,t){return this.animate(0,e,t)},_clearTransformRunnersBefore(e){this._transformationRunners.clearBefore(e.id)},_currentTransform(e){return this._transformationRunners.runners.filter(t=>t.id<=e.id).map(Pn).reduce(Fn,new b)},_addRunner(e){this._transformationRunners.add(e),T.cancelImmediate(this._frameId),this._frameId=T.immediate(js.bind(this))},_prepareRunner(){this._frameId==null&&(this._transformationRunners=new zs().add(new Gt(new b(this))))}}});const Is=(e,t)=>e.filter(n=>!t.includes(n));k(V,{attr(e,t){return this.styleAttr("attr",e,t)},css(e,t){return this.styleAttr("css",e,t)},styleAttr(e,t,n){if(typeof t=="string")return this.styleAttr(e,{[t]:n});let i=t;if(this._tryRetarget(e,i))return this;let r=new ut(this._stepper).to(i),s=Object.keys(i);return this.queue(function(){r=r.from(this.element()[e](s))},function(o){return this.element()[e](r.at(o).valueOf()),r.done()},function(o){const a=Object.keys(o),u=Is(a,s);if(u.length){const h=this.element()[e](u),c=new It(r.from()).valueOf();Object.assign(c,h),r.from(c)}const l=new It(r.to()).valueOf();Object.assign(l,o),r.to(l),s=a,i=o}),this._rememberMorpher(e,r),this},zoom(e,t){if(this._tryRetarget("zoom",e,t))return this;let n=new ut(this._stepper).to(new y(e));return this.queue(function(){n=n.from(this.element().zoom())},function(i){return this.element().zoom(n.at(i),t),n.done()},function(i,r){t=r,n.to(i)}),this._rememberMorpher("zoom",n),this},transform(e,t,n){if(t=e.relative||t,this._isDeclarative&&!t&&this._tryRetarget("transform",e))return this;const i=b.isMatrixLike(e);n=e.affine!=null?e.affine:n??!i;const r=new ut(this._stepper).type(n?Pt:b);let s,o,a,u,l;function h(){o=o||this.element(),s=s||pe(e,o),l=new b(t?void 0:o),o._addRunner(this),t||o._clearTransformRunnersBefore(this)}function c(x){t||this.clearTransform();const{x:p,y:f}=new j(s).transform(o._currentTransform(this));let d=new b({...e,origin:[p,f]}),w=this._isDeclarative&&a?a:l;if(n){d=d.decompose(p,f),w=w.decompose(p,f);const O=d.rotate,I=w.rotate,P=[O-360,O,O+360],$=P.map(ot=>Math.abs(ot-I)),nt=Math.min(...$),B=$.indexOf(nt);d.rotate=P[B]}t&&(i||(d.rotate=e.rotate||0),this._isDeclarative&&u&&(w.rotate=u)),r.from(w),r.to(d);const v=r.at(x);return u=v.rotate,a=new b(v),this.addTransform(a),o._addRunner(this),r.done()}function m(x){(x.origin||"center").toString()!==(e.origin||"center").toString()&&(s=pe(x,o)),e={...x,origin:s}}return this.queue(h,c,m,!0),this._isDeclarative&&this._rememberMorpher("transform",r),this},x(e){return this._queueNumber("x",e)},y(e){return this._queueNumber("y",e)},ax(e){return this._queueNumber("ax",e)},ay(e){return this._queueNumber("ay",e)},dx(e=0){return this._queueNumberDelta("x",e)},dy(e=0){return this._queueNumberDelta("y",e)},dmove(e,t){return this.dx(e).dy(t)},_queueNumberDelta(e,t){if(t=new y(t),this._tryRetarget(e,t))return this;const n=new ut(this._stepper).to(t);let i=null;return this.queue(function(){i=this.element()[e](),n.from(i),n.to(i+t)},function(r){return this.element()[e](n.at(r)),n.done()},function(r){n.to(i+new y(r))}),this._rememberMorpher(e,n),this},_queueObject(e,t){if(this._tryRetarget(e,t))return this;const n=new ut(this._stepper).to(t);return this.queue(function(){n.from(this.element()[e]())},function(i){return this.element()[e](n.at(i)),n.done()}),this._rememberMorpher(e,n),this},_queueNumber(e,t){return this._queueObject(e,new y(t))},cx(e){return this._queueNumber("cx",e)},cy(e){return this._queueNumber("cy",e)},move(e,t){return this.x(e).y(t)},amove(e,t){return this.ax(e).ay(t)},center(e,t){return this.cx(e).cy(t)},size(e,t){let n;return(!e||!t)&&(n=this._element.bbox()),e||(e=n.width/n.height*t),t||(t=n.height/n.width*e),this.width(e).height(t)},width(e){return this._queueNumber("width",e)},height(e){return this._queueNumber("height",e)},plot(e,t,n,i){if(arguments.length===4)return this.plot([e,t,n,i]);if(this._tryRetarget("plot",e))return this;const r=new ut(this._stepper).type(this._element.MorphArray).to(e);return this.queue(function(){r.from(this._element.array())},function(s){return this._element.plot(r.at(s)),r.done()}),this._rememberMorpher("plot",r),this},leading(e){return this._queueNumber("leading",e)},viewbox(e,t,n,i){return this._queueObject("viewbox",new D(e,t,n,i))},update(e){return typeof e!="object"?this.update({offset:arguments[0],color:arguments[1],opacity:arguments[2]}):(e.opacity!=null&&this.attr("stop-opacity",e.opacity),e.color!=null&&this.attr("stop-color",e.color),e.offset!=null&&this.attr("offset",e.offset),this)}});k(V,{rx:Re,ry:Fe,from:jn,to:zn});S(V,"Runner");class $e extends L{constructor(t,n=t){super(N("svg",t),n),this.namespace()}defs(){return this.isRoot()?U(this.node.querySelector("defs"))||this.put(new De):this.root().defs()}isRoot(){return!this.node.parentNode||!(this.node.parentNode instanceof M.window.SVGElement)&&this.node.parentNode.nodeName!=="#document-fragment"}namespace(){return this.isRoot()?this.attr({xmlns:Ee,version:"1.1"}).attr("xmlns:xlink",Dt,ae):this.root().namespace()}removeNamespace(){return this.attr({xmlns:null,version:null}).attr("xmlns:xlink",null,ae).attr("xmlns:svgjs",null,ae)}root(){return this.isRoot()?this:super.root()}}_({Container:{nested:E(function(){return this.put(new $e)})}});S($e,"Svg",!0);let Be=class extends L{constructor(t,n=t){super(N("symbol",t),n)}};_({Container:{symbol:E(function(){return this.put(new Be)})}});S(Be,"Symbol");function Ds(e){return this._build===!1&&this.clear(),this.node.appendChild(M.document.createTextNode(e)),this}function Rs(){return this.node.getComputedTextLength()}function Fs(e,t=this.bbox()){return e==null?t.x:this.attr("x",this.attr("x")+e-t.x)}function Ps(e,t=this.bbox()){return e==null?t.y:this.attr("y",this.attr("y")+e-t.y)}function qs(e,t,n=this.bbox()){return this.x(e,n).y(t,n)}function Ls(e,t=this.bbox()){return e==null?t.cx:this.attr("x",this.attr("x")+e-t.cx)}function $s(e,t=this.bbox()){return e==null?t.cy:this.attr("y",this.attr("y")+e-t.cy)}function Bs(e,t,n=this.bbox()){return this.cx(e,n).cy(t,n)}function Ys(e){return this.attr("x",e)}function Vs(e){return this.attr("y",e)}function Hs(e,t){return this.ax(e).ay(t)}function Xs(e){return this._build=!!e,this}const qn=Object.freeze(Object.defineProperty({__proto__:null,amove:Hs,ax:Ys,ay:Vs,build:Xs,center:Bs,cx:Ls,cy:$s,length:Rs,move:qs,plain:Ds,x:Fs,y:Ps},Symbol.toStringTag,{value:"Module"}));class J extends H{constructor(t,n=t){super(N("text",t),n),this.dom.leading=this.dom.leading??new y(1.3),this._rebuild=!0,this._build=!1}leading(t){return t==null?this.dom.leading:(this.dom.leading=new y(t),this.rebuild())}rebuild(t){if(typeof t=="boolean"&&(this._rebuild=t),this._rebuild){const n=this;let i=0;const r=this.dom.leading;this.each(function(s){if(me(this.node))return;const o=M.window.getComputedStyle(this.node).getPropertyValue("font-size"),a=r*new y(o);this.dom.newLined&&(this.attr("x",n.attr("x")),this.text()===`
`?i+=a:(this.attr("dy",s?a+i:0),i=0))}),this.fire("rebuild")}return this}setData(t){return this.dom=t,this.dom.leading=new y(t.leading||1.3),this}writeDataToDom(){return mn(this,this.dom,{leading:1.3}),this}text(t){if(t===void 0){const n=this.node.childNodes;let i=0;t="";for(let r=0,s=n.length;r<s;++r){if(n[r].nodeName==="textPath"||me(n[r])){r===0&&(i=r+1);continue}r!==i&&n[r].nodeType!==3&&U(n[r]).dom.newLined===!0&&(t+=`
`),t+=n[r].textContent}return t}if(this.clear().build(!0),typeof t=="function")t.call(this,this);else{t=(t+"").split(`
`);for(let n=0,i=t.length;n<i;n++)this.newLine(t[n])}return this.build(!1).rebuild()}}k(J,qn);_({Container:{text:E(function(e=""){return this.put(new J).text(e)}),plain:E(function(e=""){return this.put(new J).plain(e)})}});S(J,"Text");class te extends H{constructor(t,n=t){super(N("tspan",t),n),this._build=!1}dx(t){return this.attr("dx",t)}dy(t){return this.attr("dy",t)}newLine(){this.dom.newLined=!0;const t=this.parent();if(!(t instanceof J))return this;const n=t.index(this),i=M.window.getComputedStyle(this.node).getPropertyValue("font-size"),r=t.dom.leading*new y(i);return this.dy(n?r:0).attr("x",t.x())}text(t){return t==null?this.node.textContent+(this.dom.newLined?`
`:""):(typeof t=="function"?(this.clear().build(!0),t.call(this,this),this.build(!1)):this.plain(t),this)}}k(te,qn);_({Tspan:{tspan:E(function(e=""){const t=new te;return this._build||this.clear(),this.put(t).text(e)})},Text:{newLine:function(e=""){return this.tspan(e).newLine()}}});S(te,"Tspan");class Ye extends H{constructor(t,n=t){super(N("circle",t),n)}radius(t){return this.attr("r",t)}rx(t){return this.attr("r",t)}ry(t){return this.rx(t)}size(t){return this.radius(new y(t).divide(2))}}k(Ye,{x:Sn,y:Tn,cx:An,cy:On,width:Cn,height:En});_({Container:{circle:E(function(e=0){return this.put(new Ye).size(e).move(0,0)})}});S(Ye,"Circle");class ke extends L{constructor(t,n=t){super(N("clipPath",t),n)}remove(){return this.targets().forEach(function(t){t.unclip()}),super.remove()}targets(){return St("svg [clip-path*="+this.id()+"]")}}_({Container:{clip:E(function(){return this.defs().put(new ke)})},Element:{clipper(){return this.reference("clip-path")},clipWith(e){const t=e instanceof ke?e:this.parent().clip().add(e);return this.attr("clip-path","url(#"+t.id()+")")},unclip(){return this.attr("clip-path",null)}}});S(ke,"ClipPath");class Ln extends Q{constructor(t,n=t){super(N("foreignObject",t),n)}}_({Container:{foreignObject:E(function(e,t){return this.put(new Ln).size(e,t)})}});S(Ln,"ForeignObject");function Us(e,t){return this.children().forEach(n=>{let i;try{i=n.node instanceof Qi().SVGSVGElement?new D(n.attr(["x","y","width","height"])):n.bbox()}catch{return}const r=new b(n),s=r.translate(e,t).transform(r.inverse()),o=new j(i.x,i.y).transform(s);n.move(o.x,o.y)}),this}function Gs(e){return this.dmove(e,0)}function Ws(e){return this.dmove(0,e)}function Js(e,t=this.bbox()){return e==null?t.height:this.size(t.width,e,t)}function Qs(e=0,t=0,n=this.bbox()){const i=e-n.x,r=t-n.y;return this.dmove(i,r)}function Ks(e,t,n=this.bbox()){const i=Mt(this,e,t,n),r=i.width/n.width,s=i.height/n.height;return this.children().forEach(o=>{const a=new j(n).transform(new b(o).inverse());o.scale(r,s,a.x,a.y)}),this}function Zs(e,t=this.bbox()){return e==null?t.width:this.size(e,t.height,t)}function to(e,t=this.bbox()){return e==null?t.x:this.move(e,t.y,t)}function eo(e,t=this.bbox()){return e==null?t.y:this.move(t.x,e,t)}const $n=Object.freeze(Object.defineProperty({__proto__:null,dmove:Us,dx:Gs,dy:Ws,height:Js,move:Qs,size:Ks,width:Zs,x:to,y:eo},Symbol.toStringTag,{value:"Module"}));class Ve extends L{constructor(t,n=t){super(N("g",t),n)}}k(Ve,$n);_({Container:{group:E(function(){return this.put(new Ve)})}});S(Ve,"G");class Wt extends L{constructor(t,n=t){super(N("a",t),n)}target(t){return this.attr("target",t)}to(t){return this.attr("href",t,Dt)}}k(Wt,$n);_({Container:{link:E(function(e){return this.put(new Wt).to(e)})},Element:{unlink(){const e=this.linker();if(!e)return this;const t=e.parent();if(!t)return this.remove();const n=t.index(e);return t.add(this,n),e.remove(),this},linkTo(e){let t=this.linker();return t||(t=new Wt,this.wrap(t)),typeof e=="function"?e.call(t,t):t.to(e),this},linker(){const e=this.parent();return e&&e.node.nodeName.toLowerCase()==="a"?e:null}}});S(Wt,"A");class Me extends L{constructor(t,n=t){super(N("mask",t),n)}remove(){return this.targets().forEach(function(t){t.unmask()}),super.remove()}targets(){return St("svg [mask*="+this.id()+"]")}}_({Container:{mask:E(function(){return this.defs().put(new Me)})},Element:{masker(){return this.reference("mask")},maskWith(e){const t=e instanceof Me?e:this.parent().mask().add(e);return this.attr("mask","url(#"+t.id()+")")},unmask(){return this.attr("mask",null)}}});S(Me,"Mask");class Bn extends Q{constructor(t,n=t){super(N("stop",t),n)}update(t){return(typeof t=="number"||t instanceof y)&&(t={offset:arguments[0],color:arguments[1],opacity:arguments[2]}),t.opacity!=null&&this.attr("stop-opacity",t.opacity),t.color!=null&&this.attr("stop-color",t.color),t.offset!=null&&this.attr("offset",new y(t.offset)),this}}_({Gradient:{stop:function(e,t,n){return this.put(new Bn).update(e,t,n)}}});S(Bn,"Stop");function no(e,t){if(!e)return"";if(!t)return e;let n=e+"{";for(const i in t)n+=Gi(i)+":"+t[i]+";";return n+="}",n}class Se extends Q{constructor(t,n=t){super(N("style",t),n)}addText(t=""){return this.node.textContent+=t,this}font(t,n,i={}){return this.rule("@font-face",{fontFamily:t,src:n,...i})}rule(t,n){return this.addText(no(t,n))}}_("Dom",{style(e,t){return this.put(new Se).rule(e,t)},fontface(e,t,n){return this.put(new Se).font(e,t,n)}});S(Se,"Style");class He extends J{constructor(t,n=t){super(N("textPath",t),n)}array(){const t=this.track();return t?t.array():null}plot(t){const n=this.track();let i=null;return n&&(i=n.plot(t)),t==null?i:this}track(){return this.reference("href")}}_({Container:{textPath:E(function(e,t){return e instanceof J||(e=this.text(e)),e.path(t)})},Text:{path:E(function(e,t=!0){const n=new He;e instanceof Tt||(e=this.defs().path(e)),n.attr("href","#"+e,Dt);let i;if(t)for(;i=this.node.firstChild;)n.node.appendChild(i);return this.put(n)}),textPath(){return this.findOne("textPath")}},Path:{text:E(function(e){return e instanceof J||(e=new J().addTo(this.parent()).text(e)),e.path(this)}),targets(){return St("svg textPath").filter(e=>(e.attr("href")||"").includes(this.id()))}}});He.prototype.MorphArray=dt;S(He,"TextPath");class Yn extends H{constructor(t,n=t){super(N("use",t),n)}use(t,n){return this.attr("href",(n||"")+"#"+t,Dt)}}_({Container:{use:E(function(e,t){return this.put(new Yn).use(e,t)})}});S(Yn,"Use");const Jt=F;k([$e,Be,Kt,jt,Xt],q("viewbox"));k([zt,Lt,qt,Tt],q("marker"));k(J,q("Text"));k(Tt,q("Path"));k(De,q("Defs"));k([J,te],q("Tspan"));k([Zt,Qt,Ft,V],q("radius"));k(Rt,q("EventTarget"));k(rt,q("Dom"));k(Q,q("Element"));k(H,q("Shape"));k([L,Nn],q("Container"));k(Ft,q("Gradient"));k(V,q("Runner"));ft.extend(Xi());ks([y,A,D,b,kt,st,dt,j]);Ms();const io=["width","height","x","y","ry"],ro=["font-size","x","y"],on=100,so=Oe({__name:"interactive_marker",props:{x:{default:100},y:{default:500},width:{default:180},height:{default:180},text:{default:"O"},color_frac:{default:.5},active:{type:Boolean,default:!0},highlight:{type:Boolean,default:!1}},emits:["click","mouseover"],setup(e,{expose:t,emit:n}){const i=e,r=Ri({colormap:"hsv",nshades:on,format:"hex",alpha:1}),s=r.map(h=>{const c=lt.hex.hsv(h);return c[1]*=.25,c[2]*=.75,`#${lt.hsv.hex(c)}`}),o=vt(()=>{const h=Math.round(Kn(i.color_frac,1)*on);return i.active?r[h]:s[h]}),a=Ct("rect_ref"),u=Ct("text_ref");function l(){Jt(a.value).front(),Jt(u.value).front()}return t({front:l}),(h,c)=>(X(),W(_t,null,[z("rect",{style:Xe([{transition:"all ease-in-out 0.3s",stroke:"#000000"},`fill:${o.value};stroke-width:${h.active?h.width/15:0};opacity:${h.active?.9:.5}`]),id:"rect1",ref_key:"rect_ref",ref:a,width:h.width,height:h.height,x:h.x,y:h.y,ry:h.width/10,onClick:c[0]||(c[0]=m=>h.$emit("click")),onMouseover:c[1]||(c[1]=m=>h.$emit("mouseover",m))},null,44,io),z("text",{ref_key:"text_ref",ref:u,style:Xe([{"font-family":"sans-serif","text-align":"center",fill:"#000000","fill-opacity":"1","pointer-events":"none"},h.highlight?"font-weight:bold;stroke:#000000;fill:#ffffff":"font-weight:normal"]),"font-size":h.width*.7,"text-anchor":"middle","dominant-baseline":"middle",x:h.x+h.width/2,y:h.y+h.width/2,id:"text1"},Vt(h.text),13,ro)],64))}}),[ht,Te]=[400,1600],Yt=1.5,an=6,un=16,Z=ht/28,oo=ht/2-Z,mt=Array(an).fill(1).map((e,t,n)=>ht*t/(an-1)),K=Array(un).fill(1).map((e,t,n)=>Te*t/(un-1));function ao(e){return e.rect(ht,7*Yt),mt.map(t=>e.rect(Yt*2,Te).move(t,0).addClass("fretboard-string")),K.map(t=>e.rect(ht,Yt).move(0,t).addClass("fretboard-fret")),[3,5,7,9].map(t=>{const n=(K[t]+K[t-1])/2-Z;e.circle(2*Z).move(oo,n).addClass("fretboard-dot")}),e.circle(2*Z).move((mt[1]+mt[2])/2-Z,(K[12]+K[11])/2-Z).addClass("fretboard-dot"),e.circle(2*Z).move((mt[3]+mt[4])/2-Z,(K[12]+K[11])/2-Z).addClass("fretboard-dot"),K.map((t,n)=>{const i=e.text(String(n)).font({family:"sans",size:Yt*20});i.move(-ht/6,t-i.bbox().h/2).addClass("fretboard-text")}),[mt,K,ht,Te]}const uo={id:"tooltip",ref:"tooltip",style:{position:"absolute",left:"0px",top:"0px","background-color":"#ffffffcc",padding:"10px","font-size":"x-large","font-family":"sans-serif"}},lo=Oe({__name:"interactive_fretboard",props:Zn({current_scale:{default:null}},{modelValue:{default:[]},modelModifiers:{}}),emits:["update:modelValue"],setup(e){const t=["E","A","D","G","B","E"].map(d=>new fe(d)),n=Ct("svg_root_ref"),i=Y(),r=Ct("marker"),s=Ct("tooltip"),o=Y([]),a=Y([]),u=Y(1),l=Y(1),h=vt(()=>u.value/8),c=Y([]),m=ti(e,"modelValue");ei(()=>{c.value.forEach(d=>{d.active=m.value.some(w=>w.eq(d.note))})});function x(d){m.value.some(w=>w.eq(d))?m.value.splice(m.value.indexOf(d),1):m.value.push(d)}async function p(){n.value||setTimeout(p,100),await bt(),i.value=Jt(n.value),await bt();let d=i.value.bbox();d.w*=1.1,d.h*=1.2,i.value.viewbox(d),await bt(),d=i.value.bbox(),i.value.viewbox(d)}function f(d,w){var O;const v=((O=e.current_scale)==null?void 0:O.degree(d))??-1;if(!s.value)throw Error();v!==-1?(s.value.style.left=String(w.pageX+10)+"px",s.value.style.top=String(w.pageY+10)+"px",s.value.innerHTML=String(v)):s.value.innerHTML=""}return ln(async()=>{[o.value,a.value,u.value,l.value]=ao(Jt(n.value)),c.value=[];for(const[d,w]of a.value.entries())for(const[v,O]of o.value.entries()){const I=t[v].plus(d);c.value.push(ni({x:O,y:w,note:I,active:!1}))}await p(),await bt();for(const d of r.value??[])d==null||d.front()}),(d,w)=>(X(),W(_t,null,[z("div",uo,null,512),(X(),W("svg",{height:"100%",id:"svg1",ref_key:"svg_root_ref",ref:n},[(X(!0),W(_t,null,Ht(c.value,v=>(X(),ii(so,{ref_for:!0,ref:"marker",x:v.x-h.value/2,y:v.y-h.value*.75,width:h.value,height:h.value,text:v.note.name,color_frac:v.note.offset_to_a/12,active:v.active,highlight:!!d.current_scale&&v.note.eq(d.current_scale.root_note),onClick:()=>x(v.note),onMouseover:O=>f(v.note,O)},null,8,["x","y","width","height","text","color_frac","active","highlight","onClick","onMouseover"]))),256))],512))],64))}}),ho={style:{display:"grid","grid-template-columns":"1fr 1fr 1fr",gap:"1em"}},co={style:{"grid-column":"1",height:"95vh"}},fo={style:{"grid-column":"2"}},go={id:"new_scale_form"},po=["value"],mo=["onClick"],bo={style:{"grid-column":"3"}},xo=["onClick"],yo=Oe({__name:"App",setup(e){const t=Y(!1),n=Y([]),i=vt(()=>{const x=h.value.map(f=>new Ue(new fe(f.root),f.step_signature,f.name));return[...ri(t.value),...x]}),r=vt(()=>{const x=[];for(const p of i.value)(n.value.every(d=>p.contains(d))??!1)&&x.push(p);return x}),s=Y(null);function o(x){s.value=x,n.value=x.notes}function a(){s.value=null,n.value=[]}const u=Y(new fe("A")),l=Y(""),h=Ei("user-defined-scales",[]);function c(){const x=u.value,p=Ue.from_notes(x,n.value,l.value);h.value.map(f=>f.name===p.name).reduce((f,d)=>f||d,!1)||h.value.push({step_signature:p.step_signature,name:p.name,root:p.root_note.offset_to_a})}function m(){h.value=[]}return(x,p)=>(X(),W("div",ho,[z("div",co,[si(lo,{ref:"fretboard_ref",current_scale:s.value,modelValue:n.value,"onUpdate:modelValue":p[0]||(p[0]=f=>n.value=f)},null,8,["current_scale","modelValue"])]),z("div",fo,[z("button",{onClick:a},"Deselect all"),p[6]||(p[6]=z("label",{for:"mode_checkbox"},"with modes?",-1)),p[7]||(p[7]=oi()),ee(z("input",{type:"checkbox",id:"mode_checkbox","onUpdate:modelValue":p[1]||(p[1]=f=>t.value=f)},null,512),[[ai,t.value]]),p[8]||(p[8]=z("hr",null,null,-1)),z("div",go,[z("button",{onClick:c},"define new scale"),p[4]||(p[4]=z("label",{for:"new_scale_form"},"name your scale",-1)),ee(z("input",{id:"scale_name_input","onUpdate:modelValue":p[2]||(p[2]=f=>l.value=f),type:"text"},null,512),[[ui,l.value]]),p[5]||(p[5]=z("label",{for:"note_select"},"Root note",-1)),ee(z("select",{id:"note_select","onUpdate:modelValue":p[3]||(p[3]=f=>u.value=f)},[(X(!0),W(_t,null,Ht(n.value,f=>(X(),W("option",{value:f},Vt(f.name),9,po))),256))],512),[[li,u.value]]),z("button",{onClick:m},"reset_custom")]),p[9]||(p[9]=z("hr",null,null,-1)),(X(!0),W(_t,null,Ht(r.value,f=>(X(),W("button",{onClick:()=>o(f)},Vt(f.name),9,mo))),256))]),z("div",bo,[(X(!0),W(_t,null,Ht(i.value.filter(f=>{var d;return f.root_note.eq(((d=s.value)==null?void 0:d.root_note)??null)}),f=>(X(),W("button",{onClick:()=>o(f)},Vt(f.name),9,xo))),256))])]))}});hi(yo).mount("#app");
